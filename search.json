[
  {
    "objectID": "data.html#source",
    "href": "data.html#source",
    "title": "Data",
    "section": "Source",
    "text": "Source\nThe data is publicly available on the CRDC website, allowing access to the original source."
  },
  {
    "objectID": "data.html#describe-wherehow-to-find-data",
    "href": "data.html#describe-wherehow-to-find-data",
    "title": "Data",
    "section": "Describe where/how to find data",
    "text": "Describe where/how to find data\nAll of our three raw datasets are coming from the Civil Rights Data Collection (CRDC). It includes public schools and school districts across the United States, collected by the U.S. Department of Education’s Office for Civil Rights (OCR).\nIt is used to monitor educational access and equity, ensuring compliance with federal civil rights laws. The datasets originate from the U.S. Department of Education’s Civil Rights Data Collection (CRDC) from the year 2021-2022, accessible at civilrightsdata.ed.gov."
  },
  {
    "objectID": "data.html#data-source",
    "href": "data.html#data-source",
    "title": "Data",
    "section": "Data Source",
    "text": "Data Source\n\nData Set 1: Harassment and Bullying\nDescription:\nThis dataset primarily focuses on harassment and bullying incidents reported in educational institutions, capturing various forms of misconduct and disciplinary actions. It includes key variables such as state, district, school names, student demographics and so on.It gathers key civil rights metrics to assess access to and obstacles in educational opportunities from early childhood through grade 12. The Office for Civil Rights (OCR) utilizes this data from public school districts to investigate discrimination complaints, evaluate compliance with federal civil rights laws, conduct proactive reviews, and offer policy guidance and technical support to schools and districts.\n\n\n\n\n\n\n\n\nVariable\nDescription\nData Type\n\n\n\n\nHBALLEGATIONS_SEX\nNumber of reported harassment/bullying allegations based on sex or gender\nint64\n\n\nHBALLEGATIONS_RAC\nNumber of reported harassment/bullying allegations based on race\nint64\n\n\nHBALLEGATIONS_DIS\nNumber of reported harassment/bullying allegations based on disability\nint64\n\n\nHBALLEGATIONS_REL\nNumber of reported harassment/bullying allegations based on religion\nint64\n\n\nHBREPORTED_RAC_HI_M\nNumber of Hispanic Male Students\nint64\n\n\nHBREPORTED_RAC_HI_F\nNumber of Hispanic Female Students\nint64\n\n\nHBREPORTED_RAC_AM_M\nNumber of American Indian/Alaska Native Male Students\nint64\n\n\nHBREPORTED_RAC_AM_F\nNumber of American Indian/Alaska Native Female Students\nint64\n\n\nHBREPORTED_RAC_AS_M\nNumber of Asian Male Students\nint64\n\n\nHBREPORTED_RAC_AS_F\nNumber of Asian Female Students\nint64\n\n\nHBREPORTED_RAC_HP_M\nNumber of Native Hawaiian/Pacific Islander Male Students\nint64\n\n\nHBREPORTED_RAC_HP_F\nNumber of Native Hawaiian/Pacific Islander Female Students\nint64\n\n\nHBREPORTED_RAC_BL_M\nNumber of Black Male Students\nint64\n\n\nHBREPORTED_RAC_BL_F\nNumber of Black Female Students\nint64\n\n\nHBREPORTED_RAC_WH_M\nNumber of White Male Students\nint64\n\n\nHBREPORTED_RAC_WH_F\nNumber of White Female Students\nint64\n\n\nHBREPORTED_RAC_TR_M\nNumber of Two or More Races Male Students\nint64\n\n\nHBREPORTED_RAC_TR_F\nNumber of Two or More Races Female Students\nint64\n\n\n\n\nDistribution of key variables\n\n\nHarassment Type\n\n\n── Attaching core tidyverse packages ──────────────────────── tidyverse 2.0.0 ──\n✔ dplyr     1.1.4     ✔ readr     2.1.5\n✔ forcats   1.0.0     ✔ stringr   1.5.1\n✔ ggplot2   3.5.1     ✔ tibble    3.2.1\n✔ lubridate 1.9.4     ✔ tidyr     1.3.1\n✔ purrr     1.0.2     \n── Conflicts ────────────────────────────────────────── tidyverse_conflicts() ──\n✖ dplyr::filter() masks stats::filter()\n✖ dplyr::lag()    masks stats::lag()\nℹ Use the conflicted package (&lt;http://conflicted.r-lib.org/&gt;) to force all conflicts to become errors\n\n\nWarning: One or more parsing issues, call `problems()` on your data frame for details,\ne.g.:\n  dat &lt;- vroom(...)\n  problems(dat)\n\n\n\n\n\n\n\n\n\n\n\nHarassment grouped by race\n\n\n\n\n\n\n\n\n\n\n\n\nData Set 2: School Support\nDescription The school support dataset contains information on the number of full-time equivalent (FTE) counselors, psychologists, and security guards at individual schools. After removing negative and missing values, we found that most schools have very few support staff, with distributions heavily skewed toward zero. While the majority of schools report no psychologists or guards, a small number of schools report larger support teams. The presence of a few schools with unusually high staff numbers indicates variation likely related to school size or reporting differences.\n\n\n\nVariable\nDescription\nData Type\n\n\n\n\nFTECOUNSELORS\nNumber of FTE school counselors\nDecimal\n\n\nFTESERVICES_PSY\nNumber of FTE psychologists\nDecimal\n\n\nFTESECURITY_GUA\nNumber of FTE security guards\nDecimal\n\n\n\n\nFindings about key variables\n\n\n   counselors     psychologists      security_guards   \n Min.   :  0.00   Min.   :  0.0000   Min.   :  0.0000  \n 1st Qu.:  0.20   1st Qu.:  0.0000   1st Qu.:  0.0000  \n Median :  1.00   Median :  0.0000   Median :  0.0000  \n Mean   :  1.35   Mean   :  0.4033   Mean   :  0.3739  \n 3rd Qu.:  2.00   3rd Qu.:  0.6000   3rd Qu.:  0.0000  \n Max.   :280.00   Max.   :175.0000   Max.   :100.0000  \n NA's   :99       NA's   :3          NA's   :2468      \n\n\n# A tibble: 3 × 8\n  variable        count missing  mean median    sd   min   max\n  &lt;chr&gt;           &lt;int&gt;   &lt;int&gt; &lt;dbl&gt;  &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;\n1 counselors      98010      99  1.35      1  2.1      0   280\n2 psychologists   98010       3  0.4       0  1.21     0   175\n3 security_guards 98010    2468  0.37      0  1.42     0   100\n\n\nCounselors are more consistently present across schools.\n    Psychologists and especially security guards are much less common, with higher proportions of zeros and missing entries.\n    The high standard deviations relative to means for all three suggest substantial variability across school sizes or resource allocations.\n\n\n\n\n\nData Set 3: School Enrollment\nReason to use this dataset: The Enrollment dataset contains detailed counts of student populations across multiple racial and ethnic groups at the school level.It breaks down enrollment into male and female students across 7 racial categories: Hispanic, American Indian/Alaska Native, Asian, Native Hawaiian/Pacific Islander, Black, White, and Two or More Races.This data is crucial for accurately normalizing harassment report counts by providing the total population against which allegations are measured, enabling fair comparison across institutions of varying sizes and demographics. If we only compare raw counts of harassment reports, larger schools will naturally have more reports just because they have more students.By dividing number of harassment reports by total enrollment, we calculate harassment allegations per 100 students, which normalizes across schools of different sizes.\n\n\n\n\n\n\n\nVariable\nDescription\n\n\n\n\nENR_HI_M\nNumber of Hispanic Male Students\n\n\nENR_HI_F\nNumber of Hispanic Female Students\n\n\nENR_AM_M\nNumber of American Indian/Alaska Native Male Students\n\n\nENR_AM_F\nNumber of American Indian/Alaska Native Female Students\n\n\nENR_AS_M\nNumber of Asian Male Students\n\n\nENR_AS_F\nNumber of Asian Female Students\n\n\nENR_HP_M\nNumber of Native Hawaiian/Pacific Islander Male Students\n\n\nENR_HP_F\nNumber of Native Hawaiian/Pacific Islander Female Students\n\n\nENR_BL_M\nNumber of Black Male Students\n\n\nENR_BL_F\nNumber of Black Female Students\n\n\nENR_WH_M\nNumber of White Male Students\n\n\nENR_WH_F\nNumber of White Female Students\n\n\nENR_TR_M\nNumber of Two or More Races Male Students\n\n\nENR_TR_F\nNumber of Two or More Races Female Students\n\n\n\n\nDistribution of key variables\n\n\n\n\n\n\n\n\n\n# A tibble: 14 × 2\n   Variable     MissingRate\n   &lt;chr&gt;              &lt;dbl&gt;\n 1 SCH_ENR_HI_M        1.92\n 2 SCH_ENR_HI_F        1.92\n 3 SCH_ENR_AM_M        1.92\n 4 SCH_ENR_AM_F        1.92\n 5 SCH_ENR_AS_M        1.92\n 6 SCH_ENR_AS_F        1.92\n 7 SCH_ENR_HP_M        1.92\n 8 SCH_ENR_HP_F        1.92\n 9 SCH_ENR_BL_M        1.91\n10 SCH_ENR_BL_F        1.92\n11 SCH_ENR_WH_M        1.92\n12 SCH_ENR_WH_F        1.93\n13 SCH_ENR_TR_M        1.92\n14 SCH_ENR_TR_F        1.92\n\n\n# A tibble: 7 × 2\n  Race            Total_Enrollment\n  &lt;chr&gt;                      &lt;dbl&gt;\n1 White                   21947054\n2 Hispanic                13914099\n3 Black                    7197685\n4 Asian                    2611056\n5 TwoOrMore                2284917\n6 AmericanIndian            456405\n7 PacificIslander           185273"
  },
  {
    "objectID": "data.html#merge-and-clean-data-process",
    "href": "data.html#merge-and-clean-data-process",
    "title": "Data",
    "section": "Merge and Clean Data Process",
    "text": "Merge and Clean Data Process\nDownload Cleaning Script\n\nsource(\"scripts/data_clean_process.R\")\n\nThis project involved merging and cleaning multiple datasets related to school enrollment, harassment reports, and school support services. In the original dataset, several variables contained reserved codes represented by negative values. These codes are not actual data values but rather placeholders for missing, suppressed, or logic-dependent responses. The specific reserve codes and their meanings are:\n\n\n\nReserve Code Value\nDefinition\n\n\n\n\n-3\nSkip Logic or Processing Failure\n\n\n-4\nMissing Optional Data\n\n\n-5\nAction Plan/Quick Plans\n\n\n-6\nForce Certified\n\n\n-9\nNot Applicable/Skipped\n\n\n-12\nSuppressed for Privacy Protections\n\n\n-13\nMissing DIND Skip Logic\n\n\n\nTo ensure accurate analysis, these values were converted to NA, as they do not represent valid quantitative information. Including them would lead to misleading statistics and incorrect interpretations in visualizations and summaries.\nThe overall script includes:\n- Reading raw datasets from the dataset/ directory\n- Replacing reserved codes (e.g. -3, -4, -6, etc.) with NA\n- Removing invalid or fully-missing rows\n- Renaming variables for clarity (e.g., removing SCH_ prefix)\n- Merging harassment, enrollment, and support data into a single cleaned dataset - Saving the output as .rds and .csv files"
  },
  {
    "objectID": "scripts/BlogPost6 Charts Code.html",
    "href": "scripts/BlogPost6 Charts Code.html",
    "title": "MA [46]15 Final Project TEAM 9",
    "section": "",
    "text": "#after running blog5 qmd\n\nlibrary(tidyverse)\n\n── Attaching core tidyverse packages ──────────────────────── tidyverse 2.0.0 ──\n✔ dplyr     1.1.4     ✔ readr     2.1.5\n✔ forcats   1.0.0     ✔ stringr   1.5.1\n✔ ggplot2   3.5.1     ✔ tibble    3.2.1\n✔ lubridate 1.9.4     ✔ tidyr     1.3.1\n✔ purrr     1.0.2     \n── Conflicts ────────────────────────────────────────── tidyverse_conflicts() ──\n✖ dplyr::filter() masks stats::filter()\n✖ dplyr::lag()    masks stats::lag()\nℹ Use the conflicted package (&lt;http://conflicted.r-lib.org/&gt;) to force all conflicts to become errors\n\nenrollment_clean &lt;- read_csv(\"dataset/clean_data file/enrollment_clean.csv\")\n\nRows: 98010 Columns: 234\n── Column specification ────────────────────────────────────────────────────────\nDelimiter: \",\"\nchr   (8): LEA_STATE, LEA_STATE_NAME, LEAID, LEA_NAME, SCHID, SCH_NAME, COMB...\ndbl (226): SCH_ENR_HI_M, SCH_ENR_HI_F, SCH_ENR_HI_X, SCH_ENR_AM_M, SCH_ENR_A...\n\nℹ Use `spec()` to retrieve the full column specification for this data.\nℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.\n\n#Preview results\nenrollment_clean %&gt;%\n  filter(LEA_STATE == \"MA\") %&gt;%\n  select(SCH_NAME, Total_Students)\n\n# A tibble: 1,868 × 2\n   SCH_NAME                       Total_Students\n   &lt;chr&gt;                                   &lt;dbl&gt;\n 1 Quabbin Regional High School              619\n 2 Quabbin Regional Middle School            532\n 3 Hardwick Elementary                       187\n 4 Hubbardston Center                        307\n 5 New Braintree Grade                        47\n 6 Oakham Center                             124\n 7 Ruggles Lane                              374\n 8 Knox Trail Middle School                  406\n 9 East Brookfield Elementary                145\n10 David Prouty High                         343\n# ℹ 1,858 more rows\n\n\n\n# Load necessary libraries\nlibrary(dplyr)\nlibrary(here)\n\nhere() starts at /Users/libaijie/ma415-lab0/ma4615-sp25-final-project-team-9\n\nlibrary(readr)\nsupport &lt;- read_csv(\"dataset/School Support.csv\")\n\nRows: 98010 Columns: 19\n\n\n── Column specification ────────────────────────────────────────────────────────\nDelimiter: \",\"\nchr  (8): LEA_STATE, LEA_STATE_NAME, LEAID, LEA_NAME, SCHID, SCH_NAME, COMBO...\ndbl (11): SCH_FTESECURITY_LEO, SCH_FTESECURITY_GUA, SCH_FTETEACH_TOT, SCH_FT...\n\nℹ Use `spec()` to retrieve the full column specification for this data.\nℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.\n\nharassment &lt;- read_csv(\"dataset/clean_data file/Harassment_and_Bullying_clean.csv\")\n\nWarning: One or more parsing issues, call `problems()` on your data frame for details,\ne.g.:\n  dat &lt;- vroom(...)\n  problems(dat)\n\n\nRows: 98010 Columns: 159\n── Column specification ────────────────────────────────────────────────────────\nDelimiter: \",\"\nchr   (5): LEA_STATE, LEA_STATE_NAME, LEA_NAME, NAME, JJ\ndbl (154): LEAID, SCHID, COMBOKEY, HBALLEGATIONS_SEX, HBALLEGATIONS_ORI, HBA...\n\nℹ Use `spec()` to retrieve the full column specification for this data.\nℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.\n\n# STEP 1: Clean the support staff data\nsupport_clean &lt;- support |&gt;\n  mutate(across(c(SCH_FTECOUNSELORS, SCH_FTESERVICES_PSY, SCH_FTESECURITY_GUA),\n                ~ ifelse(. &lt; 0, 0, .)))\n\n# STEP 2: Clean the harassment & bullying data\nharass_clean &lt;- harassment %&gt;%\n  mutate(across(c(\n    HBALLEGATIONS_SEX,\n    HBALLEGATIONS_REL,\n    HBALLEGATIONS_RAC,\n    HBALLEGATIONS_DIS,\n    HBALLEGATIONS_ORI\n  ), ~ ifelse(. &lt; 0, 0, .))) %&gt;%\n  rowwise() %&gt;%\n  mutate(Total_Allegations = sum(\n    c_across(c(\n      HBALLEGATIONS_SEX,\n      HBALLEGATIONS_REL,\n      HBALLEGATIONS_RAC,\n      HBALLEGATIONS_DIS,\n      HBALLEGATIONS_ORI\n    )), na.rm = TRUE\n  )) %&gt;%\n  ungroup() %&gt;%\n  select(COMBOKEY, Total_Allegations)\n\nenrollment_clean &lt;- enrollment_clean %&gt;%\n  mutate(COMBOKEY = as.character(COMBOKEY))\n\nharass_clean &lt;- harass_clean %&gt;%\n  mutate(COMBOKEY = as.character(COMBOKEY))\n\n# STEP 3: Join all datasets — enrollment + support + harassment\ncombined_ma &lt;- enrollment_clean |&gt;\n  filter(LEA_STATE == \"MA\") |&gt;\n  select(COMBOKEY, SCH_NAME, Total_Students) %&gt;%\n  inner_join(support_clean, by = \"COMBOKEY\") %&gt;%\n  inner_join(harass_clean, by = \"COMBOKEY\") %&gt;%\n  mutate(\n    allegations_per_100 = Total_Allegations / Total_Students * 100\n  )\n\n# STEP 4: Check correlations\ncombined_ma %&gt;%\n  select(allegations_per_100, SCH_FTECOUNSELORS, SCH_FTESERVICES_PSY, SCH_FTESECURITY_GUA) %&gt;%\n  cor(use = \"complete.obs\")\n\n                    allegations_per_100 SCH_FTECOUNSELORS SCH_FTESERVICES_PSY\nallegations_per_100          1.00000000        0.02193542          -0.0462751\nSCH_FTECOUNSELORS            0.02193542        1.00000000           0.2191212\nSCH_FTESERVICES_PSY         -0.04627510        0.21912121           1.0000000\nSCH_FTESECURITY_GUA         -0.00407359        0.31641785           0.0785435\n                    SCH_FTESECURITY_GUA\nallegations_per_100         -0.00407359\nSCH_FTECOUNSELORS            0.31641785\nSCH_FTESERVICES_PSY          0.07854350\nSCH_FTESECURITY_GUA          1.00000000\n\n\n\n# Log-Linear Regression for further check\ncombined_ma &lt;- combined_ma %&gt;%\n  mutate(log_allegations = log(allegations_per_100 + 0.01))\n\nlog_model &lt;- lm(log_allegations ~ SCH_FTECOUNSELORS + SCH_FTESERVICES_PSY + SCH_FTESECURITY_GUA,\n                data = combined_ma)\n\nsummary(log_model)\n\n\nCall:\nlm(formula = log_allegations ~ SCH_FTECOUNSELORS + SCH_FTESERVICES_PSY + \n    SCH_FTESECURITY_GUA, data = combined_ma)\n\nResiduals:\n   Min     1Q Median     3Q    Max \n-2.425 -1.123 -1.011  1.591  6.400 \n\nCoefficients:\n                     Estimate Std. Error t value Pr(&gt;|t|)    \n(Intercept)         -3.659850   0.062685 -58.385  &lt; 2e-16 ***\nSCH_FTECOUNSELORS    0.098636   0.016759   5.886 4.72e-09 ***\nSCH_FTESERVICES_PSY -0.032844   0.039920  -0.823    0.411    \nSCH_FTESECURITY_GUA -0.005787   0.051593  -0.112    0.911    \n---\nSignif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1\n\nResidual standard error: 1.88 on 1792 degrees of freedom\n  (61 observations deleted due to missingness)\nMultiple R-squared:  0.02083,   Adjusted R-squared:  0.01919 \nF-statistic:  12.7 on 3 and 1792 DF,  p-value: 3.233e-08\n\n# Base residual plot\nplot(log_model$fitted.values, log_model$residuals,\n     xlab = \"Fitted Values (log allegations)\",\n     ylab = \"Residuals\",\n     main = \"Residuals vs Fitted Values\")\nabline(h = 0, col = \"red\", lty = 2)\n\n\n\n\n\n\n\nqqnorm(log_model$residuals)\nqqline(log_model$residuals, col = \"lightblue\")\n\n\n\n\n\n\n\n\n\nlibrary(dplyr)\nlibrary(tidyr)\nlibrary(ggplot2)\nlibrary(readr)\n\nsupport &lt;- read_csv(\"dataset/School Support.csv\")\n\nRows: 98010 Columns: 19\n── Column specification ────────────────────────────────────────────────────────\nDelimiter: \",\"\nchr  (8): LEA_STATE, LEA_STATE_NAME, LEAID, LEA_NAME, SCHID, SCH_NAME, COMBO...\ndbl (11): SCH_FTESECURITY_LEO, SCH_FTESECURITY_GUA, SCH_FTETEACH_TOT, SCH_FT...\n\nℹ Use `spec()` to retrieve the full column specification for this data.\nℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.\n\nharassment &lt;- read_csv(\"dataset/Harassment and Bullying.csv\")\n\nRows: 98010 Columns: 159\n── Column specification ────────────────────────────────────────────────────────\nDelimiter: \",\"\nchr   (8): LEA_STATE, LEA_STATE_NAME, LEAID, LEA_NAME, SCHID, SCH_NAME, COMB...\ndbl (151): SCH_HBALLEGATIONS_SEX, SCH_HBALLEGATIONS_ORI, SCH_HBALLEGATIONS_R...\n\nℹ Use `spec()` to retrieve the full column specification for this data.\nℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.\n\nenroll = read_csv(\"dataset/Enrollment.csv\")\n\nRows: 98010 Columns: 233\n── Column specification ────────────────────────────────────────────────────────\nDelimiter: \",\"\nchr   (8): LEA_STATE, LEA_STATE_NAME, LEAID, LEA_NAME, SCHID, SCH_NAME, COMB...\ndbl (225): SCH_ENR_HI_M, SCH_ENR_HI_F, SCH_ENR_HI_X, SCH_ENR_AM_M, SCH_ENR_A...\n\nℹ Use `spec()` to retrieve the full column specification for this data.\nℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.\n\nma_schools &lt;- enroll |&gt;\n  filter(LEA_STATE_NAME == \"MASSACHUSETTS\")\nmerged &lt;- ma_schools |&gt;\n  inner_join(harassment, by = \"COMBOKEY\") \nmerged &lt;- merged %&gt;%\n  mutate(\n    total_allegations = rowSums(select(., SCH_HBALLEGATIONS_SEX, SCH_HBALLEGATIONS_RAC, SCH_HBALLEGATIONS_DIS), na.rm = TRUE)\n  )\n\n# Calculate total enrollment\nmerged &lt;- merged %&gt;%\n  mutate(\n    total_enrollment = TOT_ENR_M + TOT_ENR_F + TOT_ENR_X,\n    allegations_per_100 = (total_allegations / total_enrollment) * 100\n  )\ntop_schools &lt;- merged %&gt;%\n  arrange(desc(allegations_per_100)) %&gt;%\n  select(SCH_NAME.x, LEA_NAME.x, allegations_per_100, total_enrollment, total_allegations) %&gt;%\n  head(10)\n\ntop_schools\n\n# A tibble: 10 × 5\n   SCH_NAME.x  LEA_NAME.x allegations_per_100 total_enrollment total_allegations\n   &lt;chr&gt;       &lt;chr&gt;                    &lt;dbl&gt;            &lt;dbl&gt;             &lt;dbl&gt;\n 1 Abington E… Abington                   100              -27               -27\n 2 Carol Hueb… Acton-Box…                 100              -27               -27\n 3 Agawam Ear… Agawam                     100              -27               -27\n 4 Shawsheen … Andover                    100              -27               -27\n 5 Menotomy P… Arlington                  100              -27               -27\n 6 William Pi… Ashland                    100              -27               -27\n 7 Early Lear… Attleboro                  100              -27               -27\n 8 Enoch Cobb… Barnstable                 100              -27               -27\n 9 Bellingham… Bellingham                 100              -27               -27\n10 McKeown Sc… Beverly                    100              -27               -27\n\n\n\nmerged &lt;- merged %&gt;%\n  mutate(\n    total_enrollment = TOT_ENR_M + TOT_ENR_F + TOT_ENR_X,\n    total_idea = TOT_IDEAENR_M + TOT_IDEAENR_F + TOT_IDEAENR_X,\n    total_504 = TOT_504ENR_M + TOT_504ENR_F + TOT_504ENR_X,\n    total_el = TOT_ELENR_M + TOT_ELENR_F + TOT_ELENR_X\n  )\nmerged &lt;- merged %&gt;%\n  mutate(\n    pct_disabilities = (total_idea + total_504) / total_enrollment,\n    pct_el = total_el / total_enrollment,\n    allegations_per_100 = (total_allegations / total_enrollment) * 100\n  )\ncorrelation_results &lt;- merged %&gt;%\n  summarise(\n    corr_pct_disabilities = cor(pct_disabilities, allegations_per_100, use = \"complete.obs\"),\n    corr_pct_el = cor(pct_el, allegations_per_100, use = \"complete.obs\")\n  )\n\ncorrelation_results\n\n# A tibble: 1 × 2\n  corr_pct_disabilities corr_pct_el\n                  &lt;dbl&gt;       &lt;dbl&gt;\n1                 0.166       0.126\n\nlibrary(ggplot2)\n\n# Disabilities\nggplot(merged, aes(x = pct_disabilities, y = allegations_per_100)) +\n  geom_point(alpha = 0.5) +\n  geom_smooth(method = \"lm\") +\n  labs(\n    title = \"Allegations per 100 Students vs. % with Disabilities\",\n    x = \"Percentage of Students with Disabilities\",\n    y = \"Allegations per 100 Students\"\n  )\n\n`geom_smooth()` using formula = 'y ~ x'\n\n\nWarning: Removed 1 row containing non-finite outside the scale range\n(`stat_smooth()`).\n\n\nWarning: Removed 1 row containing missing values or values outside the scale range\n(`geom_point()`).\n\n\n\n\n\n\n\n\nggplot(merged, aes(x = pct_el, y = allegations_per_100)) +\n  geom_point(alpha = 0.5) +\n  geom_smooth(method = \"lm\") +\n  labs(\n    title = \"Allegations per 100 Students vs. % English Learners\",\n    x = \"Percentage of English Learners\",\n    y = \"Allegations per 100 Students\"\n  )\n\n`geom_smooth()` using formula = 'y ~ x'\n\n\nWarning: Removed 1 row containing non-finite outside the scale range (`stat_smooth()`).\nRemoved 1 row containing missing values or values outside the scale range\n(`geom_point()`).\n\n\n\n\n\n\n\n\n\n\n# Total students with disabilities (IDEA + 504)\nmerged &lt;- merged %&gt;%\n  mutate(\n    total_disabilities = total_idea + total_504,\n    allegations_per_100_disabilities = (total_allegations / total_disabilities) * 100\n  )\nmerged &lt;- merged %&gt;%\n  mutate(\n    total_black = SCH_ENR_BL_M + SCH_ENR_BL_F + SCH_ENR_BL_X,\n    allegations_per_100_black = (total_allegations / total_black) * 100\n  )\nggplot(merged, aes(x = pct_disabilities, y = allegations_per_100_disabilities)) +\n  geom_point() +\n  geom_smooth(method = \"lm\")\n\n`geom_smooth()` using formula = 'y ~ x'\n\n\nWarning: Removed 7 rows containing non-finite outside the scale range\n(`stat_smooth()`).\n\n\nWarning: Removed 6 rows containing missing values or values outside the scale range\n(`geom_point()`)."
  },
  {
    "objectID": "scripts/EDA(Sex).html",
    "href": "scripts/EDA(Sex).html",
    "title": "MA [46]15 Final Project TEAM 9",
    "section": "",
    "text": "library(tidyverse)\n\n── Attaching core tidyverse packages ──────────────────────── tidyverse 2.0.0 ──\n✔ dplyr     1.1.4     ✔ readr     2.1.5\n✔ forcats   1.0.0     ✔ stringr   1.5.1\n✔ ggplot2   3.5.1     ✔ tibble    3.2.1\n✔ lubridate 1.9.4     ✔ tidyr     1.3.1\n✔ purrr     1.0.2     \n── Conflicts ────────────────────────────────────────── tidyverse_conflicts() ──\n✖ dplyr::filter() masks stats::filter()\n✖ dplyr::lag()    masks stats::lag()\nℹ Use the conflicted package (&lt;http://conflicted.r-lib.org/&gt;) to force all conflicts to become errors\n\n\n\nlibrary(tidyverse)\n# Read the CSV file (update path if needed)\nlibrary(tidyverse)\nlibrary(tidyverse)\n\ndata &lt;- read_csv(\"dataset/clean_data file/Harassment_and_Bullying_clean.csv\")\n\nWarning: One or more parsing issues, call `problems()` on your data frame for details,\ne.g.:\n  dat &lt;- vroom(...)\n  problems(dat)\n\n\nRows: 98010 Columns: 159\n── Column specification ────────────────────────────────────────────────────────\nDelimiter: \",\"\nchr   (5): LEA_STATE, LEA_STATE_NAME, LEA_NAME, NAME, JJ\ndbl (154): LEAID, SCHID, COMBOKEY, HBALLEGATIONS_SEX, HBALLEGATIONS_ORI, HBA...\n\nℹ Use `spec()` to retrieve the full column specification for this data.\nℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.\n\n\n\nhead(data)\n\n# A tibble: 6 × 159\n  LEA_STATE LEA_STATE_NAME  LEAID LEA_NAME            SCHID NAME  COMBOKEY JJ   \n  &lt;chr&gt;     &lt;chr&gt;           &lt;dbl&gt; &lt;chr&gt;               &lt;dbl&gt; &lt;chr&gt;    &lt;dbl&gt; &lt;chr&gt;\n1 AL        ALABAMA        100002 Alabama Youth Serv… 99995 AUTA…  1.00e10 Yes  \n2 AL        ALABAMA        100005 Albertville City      870 Albe…  1.00e10 No   \n3 AL        ALABAMA        100005 Albertville City      871 Albe…  1.00e10 No   \n4 AL        ALABAMA        100005 Albertville City      879 Albe…  1.00e10 No   \n5 AL        ALABAMA        100005 Albertville City      889 Albe…  1.00e10 No   \n6 AL        ALABAMA        100005 Albertville City     1616 Albe…  1.00e10 No   \n# ℹ 151 more variables: HBALLEGATIONS_SEX &lt;dbl&gt;, HBALLEGATIONS_ORI &lt;dbl&gt;,\n#   HBALLEGATIONS_RAC &lt;dbl&gt;, HBALLEGATIONS_DIS &lt;dbl&gt;, HBALLEGATIONS_REL &lt;dbl&gt;,\n#   HBALLEGATIONS_REL_ATAG &lt;dbl&gt;, HBALLEGATIONS_REL_BUDD &lt;dbl&gt;,\n#   HBALLEGATIONS_REL_CATH &lt;dbl&gt;, HBALLEGATIONS_REL_EAST &lt;dbl&gt;,\n#   HBALLEGATIONS_REL_HIND &lt;dbl&gt;, HBALLEGATIONS_REL_ISLM &lt;dbl&gt;,\n#   HBALLEGATIONS_REL_JWIT &lt;dbl&gt;, HBALLEGATIONS_REL_JWSH &lt;dbl&gt;,\n#   HBALLEGATIONS_REL_MORM &lt;dbl&gt;, HBALLEGATIONS_REL_MULTI &lt;dbl&gt;, …\n\n\n\nsex_cols &lt;- names(data)[str_detect(names(data), \"SEX\")]\nsex_cols\n\n [1] \"HBALLEGATIONS_SEX\"        \"HBREPORTED_SEX_HI_M\"     \n [3] \"HBREPORTED_SEX_HI_F\"      \"HBREPORTED_SEX_AM_M\"     \n [5] \"HBREPORTED_SEX_AM_F\"      \"HBREPORTED_SEX_AS_M\"     \n [7] \"HBREPORTED_SEX_AS_F\"      \"HBREPORTED_SEX_HP_M\"     \n [9] \"HBREPORTED_SEX_HP_F\"      \"HBREPORTED_SEX_BL_M\"     \n[11] \"HBREPORTED_SEX_BL_F\"      \"HBREPORTED_SEX_WH_M\"     \n[13] \"HBREPORTED_SEX_WH_F\"      \"HBREPORTED_SEX_TR_M\"     \n[15] \"HBREPORTED_SEX_TR_F\"      \"TOT_HBREPORTED_SEX_M\"    \n[17] \"TOT_HBREPORTED_SEX_F\"     \"HBREPORTED_SEX_EL_M\"     \n[19] \"HBREPORTED_SEX_EL_F\"      \"HBREPORTED_SEX_IDEA_M\"   \n[21] \"HBREPORTED_SEX_IDEA_F\"    \"HBREPORTED_SEX_504_M\"    \n[23] \"HBREPORTED_SEX_504_F\"     \"HBDISCIPLINED_SEX_HI_M\"  \n[25] \"HBDISCIPLINED_SEX_HI_F\"   \"HBDISCIPLINED_SEX_AM_M\"  \n[27] \"HBDISCIPLINED_SEX_AM_F\"   \"HBDISCIPLINED_SEX_AS_M\"  \n[29] \"HBDISCIPLINED_SEX_AS_F\"   \"HBDISCIPLINED_SEX_HP_M\"  \n[31] \"HBDISCIPLINED_SEX_HP_F\"   \"HBDISCIPLINED_SEX_BL_M\"  \n[33] \"HBDISCIPLINED_SEX_BL_F\"   \"HBDISCIPLINED_SEX_WH_M\"  \n[35] \"HBDISCIPLINED_SEX_WH_F\"   \"HBDISCIPLINED_SEX_TR_M\"  \n[37] \"HBDISCIPLINED_SEX_TR_F\"   \"TOT_HBDISCIPLINED_SEX_M\" \n[39] \"TOT_HBDISCIPLINED_SEX_F\"  \"HBDISCIPLINED_SEX_EL_M\"  \n[41] \"HBDISCIPLINED_SEX_EL_F\"   \"HBDISCIPLINED_SEX_IDEA_M\"\n[43] \"HBDISCIPLINED_SEX_IDEA_F\" \"HBDISCIPLINED_SEX_504_M\" \n[45] \"HBDISCIPLINED_SEX_504_F\" \n\n\n\nlibrary(tidyverse)\n\n# Your list of reserved codes\nreserved_codes &lt;- c(-3, -4, -5, -6, -9, -12, -13)\n\n# List of sex-related columns you provided\nsex_cols &lt;- c(\n  \"HBALLEGATIONS_SEX\", \"HBREPORTED_SEX_HI_M\", \"HBREPORTED_SEX_HI_F\",\n  \"HBREPORTED_SEX_AM_M\", \"HBREPORTED_SEX_AM_F\", \"HBREPORTED_SEX_AS_M\",\n  \"HBREPORTED_SEX_AS_F\", \"HBREPORTED_SEX_HP_M\", \"HBREPORTED_SEX_HP_F\",\n  \"HBREPORTED_SEX_BL_M\", \"HBREPORTED_SEX_BL_F\", \"HBREPORTED_SEX_WH_M\",\n  \"HBREPORTED_SEX_WH_F\", \"HBREPORTED_SEX_TR_M\", \"HBREPORTED_SEX_TR_F\",\n  \"TOT_HBREPORTED_SEX_M\", \"TOT_HBREPORTED_SEX_F\", \"HBREPORTED_SEX_EL_M\",\n  \"HBREPORTED_SEX_EL_F\", \"HBREPORTED_SEX_IDEA_M\", \"HBREPORTED_SEX_IDEA_F\",\n  \"HBREPORTED_SEX_504_M\", \"HBREPORTED_SEX_504_F\", \"HBDISCIPLINED_SEX_HI_M\",\n  \"HBDISCIPLINED_SEX_HI_F\", \"HBDISCIPLINED_SEX_AM_M\", \"HBDISCIPLINED_SEX_AM_F\",\n  \"HBDISCIPLINED_SEX_AS_M\", \"HBDISCIPLINED_SEX_AS_F\", \"HBDISCIPLINED_SEX_HP_M\",\n  \"HBDISCIPLINED_SEX_HP_F\", \"HBDISCIPLINED_SEX_BL_M\", \"HBDISCIPLINED_SEX_BL_F\",\n  \"HBDISCIPLINED_SEX_WH_M\", \"HBDISCIPLINED_SEX_WH_F\", \"HBDISCIPLINED_SEX_TR_M\",\n  \"HBDISCIPLINED_SEX_TR_F\", \"TOT_HBDISCIPLINED_SEX_M\", \"TOT_HBDISCIPLINED_SEX_F\",\n  \"HBDISCIPLINED_SEX_EL_M\", \"HBDISCIPLINED_SEX_EL_F\", \"HBDISCIPLINED_SEX_IDEA_M\",\n  \"HBDISCIPLINED_SEX_IDEA_F\", \"HBDISCIPLINED_SEX_504_M\", \"HBDISCIPLINED_SEX_504_F\"\n)\n\n# Replace reserved codes with NA in these columns\ndata_clean &lt;- data %&gt;%\n  mutate(across(all_of(sex_cols), ~ ifelse(. %in% reserved_codes, NA, .)))\n\n\ntop_schools &lt;- data_clean %&gt;%\n  filter(!is.na(HBALLEGATIONS_SEX)) %&gt;%\n  group_by(NAME) %&gt;%\n  summarize(total_allegations = sum(HBALLEGATIONS_SEX, na.rm = TRUE)) %&gt;%\n  arrange(desc(total_allegations)) %&gt;%\n  slice_head(n = 10)\n\ntop_schools\n\n# A tibble: 10 × 2\n   NAME                          total_allegations\n   &lt;chr&gt;                                     &lt;dbl&gt;\n 1 DeKalb High School                         1145\n 2 Clinton Rosette Middle School               427\n 3 Wapato High School                          350\n 4 Cooper Middle School                        214\n 5 Adams Elementary                            182\n 6 Wapato Middle School                        176\n 7 Tyler Elementary School                     174\n 8 Huntley Middle School                       167\n 9 Gwendolyn Brooks Elem Sch                   131\n10 Alcona Elementary School                    128\n\n\n\nggplot(top_schools, aes(x = reorder(NAME, total_allegations), y = total_allegations)) +\n  geom_col(fill = \"darkred\") +\n  coord_flip() +\n  labs(title = \"Top 10 Schools by Sex-Based Harassment Allegations\",\n       x = \"School Name\", y = \"Total Allegations\")\n\n\n\n\n\n\n\n\n\ndata_clean &lt;- data_clean %&gt;%\n  mutate(TOTAL_REPORTED_SEX = TOT_HBREPORTED_SEX_M + TOT_HBREPORTED_SEX_F,\n         allegations_per_1000 = (HBALLEGATIONS_SEX / TOTAL_REPORTED_SEX) * 1000)"
  },
  {
    "objectID": "scripts/data page.html",
    "href": "scripts/data page.html",
    "title": "Dataset 1. Harassment Type",
    "section": "",
    "text": "Dataset 1. Harassment Type\n\nlibrary(tidyverse)\n\n── Attaching core tidyverse packages ──────────────────────── tidyverse 2.0.0 ──\n✔ dplyr     1.1.4     ✔ readr     2.1.5\n✔ forcats   1.0.0     ✔ stringr   1.5.1\n✔ ggplot2   3.5.1     ✔ tibble    3.2.1\n✔ lubridate 1.9.4     ✔ tidyr     1.3.1\n✔ purrr     1.0.2     \n── Conflicts ────────────────────────────────────────── tidyverse_conflicts() ──\n✖ dplyr::filter() masks stats::filter()\n✖ dplyr::lag()    masks stats::lag()\nℹ Use the conflicted package (&lt;http://conflicted.r-lib.org/&gt;) to force all conflicts to become errors\n\ndata &lt;- read_csv(\"dataset/clean_data file/Harassment_and_Bullying_clean.csv\")\n\nWarning: One or more parsing issues, call `problems()` on your data frame for details,\ne.g.:\n  dat &lt;- vroom(...)\n  problems(dat)\n\n\nRows: 98010 Columns: 159\n── Column specification ────────────────────────────────────────────────────────\nDelimiter: \",\"\nchr   (5): LEA_STATE, LEA_STATE_NAME, LEA_NAME, NAME, JJ\ndbl (154): LEAID, SCHID, COMBOKEY, HBALLEGATIONS_SEX, HBALLEGATIONS_ORI, HBA...\n\nℹ Use `spec()` to retrieve the full column specification for this data.\nℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.\n\nharassment_vars &lt;- c(\"HBALLEGATIONS_SEX\", \"HBALLEGATIONS_RAC\", \n                     \"HBALLEGATIONS_DIS\", \"HBALLEGATIONS_REL\")\n\ndata_clean &lt;- data %&gt;%\n  mutate(across(all_of(harassment_vars), ~ ifelse(. &lt; 0, NA, .)))\n\nharassment_summary &lt;- data_clean %&gt;%\n  summarise(across(all_of(harassment_vars), ~ sum(., na.rm = TRUE))) %&gt;%\n  pivot_longer(cols = everything(), names_to = \"Harassment_Type\", values_to = \"Total_Allegations\")\n\nggplot(harassment_summary, aes(x = Harassment_Type, y = Total_Allegations, fill = Harassment_Type)) +\n  geom_bar(stat = \"identity\", width = 0.7) +\n  theme_minimal() +\n  labs(\n    title = \"Total Number of Different Types of Harassment Allegations\",\n    x = \"Harassment Type\",\n    y = \"Total Allegations\"\n  ) +\n  theme(axis.text.x = element_text(angle = 45, hjust = 1))\n\n\n\n\n\n\n\n\n#Dataset 1. Harassment grouped by race\n\nrace_groups &lt;- list(\n  \"Hispanic\"        = c(\"HBREPORTED_RAC_HI_M\", \"HBREPORTED_RAC_HI_F\"),\n  \"AmericanIndian\"  = c(\"HBREPORTED_RAC_AM_M\", \"HBREPORTED_RAC_AM_F\"),\n  \"Asian\"           = c(\"HBREPORTED_RAC_AS_M\", \"HBREPORTED_RAC_AS_F\"),\n  \"PacificIslander\" = c(\"HBREPORTED_RAC_HP_M\", \"HBREPORTED_RAC_HP_F\"),\n  \"Black\"           = c(\"HBREPORTED_RAC_BL_M\", \"HBREPORTED_RAC_BL_F\"),\n  \"White\"           = c(\"HBREPORTED_RAC_WH_M\", \"HBREPORTED_RAC_WH_F\"),\n  \"TwoOrMore\"       = c(\"HBREPORTED_RAC_TR_M\", \"HBREPORTED_RAC_TR_F\")\n)\n\nrace_long &lt;- map_dfr(names(race_groups), function(race) {\n  cols &lt;- race_groups[[race]]\n  \n  data %&gt;%\n    select(all_of(cols)) %&gt;%\n    pivot_longer(cols = everything(), names_to = \"Sex\", values_to = \"Allegations\") %&gt;%\n    mutate(\n      Race = race,\n      Gender = ifelse(str_detect(Sex, \"_M$\"), \"Male\", \"Female\")\n    )\n})\n\nrace_long &lt;- race_long %&gt;%\n  filter(Allegations &gt;= 0)\n\nggplot(race_long, aes(x = Race, y = Allegations, fill = Gender)) +\n  geom_bar(stat = \"summary\", fun = \"sum\", position = \"stack\", width = 0.7) +\n  labs(\n    title = \"Race-Based Harassment Allegations by Gender\",\n    x = \"Race Group\",\n    y = \"Number of Allegations\"\n  ) +\n  theme_minimal() +\n  theme(axis.text.x = element_text(angle = 45, hjust = 1)) +\n  scale_fill_manual(values = c(\"Male\" = \"skyblue\", \"Female\" = \"pink\"))\n\n\n\n\n\n\n\n\n#Dataset 2. School Support\n\nschool_support_data &lt;- read_csv(\"dataset/School Support.csv\")\n\nRows: 98010 Columns: 19\n── Column specification ────────────────────────────────────────────────────────\nDelimiter: \",\"\nchr  (8): LEA_STATE, LEA_STATE_NAME, LEAID, LEA_NAME, SCHID, SCH_NAME, COMBO...\ndbl (11): SCH_FTESECURITY_LEO, SCH_FTESECURITY_GUA, SCH_FTETEACH_TOT, SCH_FT...\n\nℹ Use `spec()` to retrieve the full column specification for this data.\nℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.\n\n# Clean: Only remove negatives and NA\nschool_support_clean &lt;- school_support_data %&gt;%\n  select(\n    counselors = SCH_FTECOUNSELORS,\n    psychologists = SCH_FTESERVICES_PSY,\n    security_guards = SCH_FTESECURITY_GUA\n  ) %&gt;%\n  mutate(\n    counselors = ifelse(counselors &lt; 0 , NA, counselors),\n    psychologists = ifelse(psychologists &lt; 0 , NA, psychologists),\n    security_guards = ifelse(security_guards &lt; 0 , NA, security_guards)\n  )\n\nsummary(school_support_clean)\n\n   counselors     psychologists      security_guards   \n Min.   :  0.00   Min.   :  0.0000   Min.   :  0.0000  \n 1st Qu.:  0.20   1st Qu.:  0.0000   1st Qu.:  0.0000  \n Median :  1.00   Median :  0.0000   Median :  0.0000  \n Mean   :  1.35   Mean   :  0.4033   Mean   :  0.3739  \n 3rd Qu.:  2.00   3rd Qu.:  0.6000   3rd Qu.:  0.0000  \n Max.   :280.00   Max.   :175.0000   Max.   :100.0000  \n NA's   :99       NA's   :3          NA's   :2468      \n\nlibrary(tidyverse)\n\n# Key Statistics\nsummary_table &lt;- school_support_clean %&gt;%\n  pivot_longer(cols = everything(), names_to = \"variable\", values_to = \"value\") %&gt;%\n  group_by(variable) %&gt;%\n  summarise(\n    count = n(),\n    missing = sum(is.na(value)),\n    mean = round(mean(value, na.rm = TRUE), 2),\n    median = round(median(value, na.rm = TRUE), 2),\n    sd = round(sd(value, na.rm = TRUE), 2),\n    min = round(min(value, na.rm = TRUE), 2),\n    max = round(max(value, na.rm = TRUE), 2)\n  )\n\nprint(summary_table)\n\n# A tibble: 3 × 8\n  variable        count missing  mean median    sd   min   max\n  &lt;chr&gt;           &lt;int&gt;   &lt;int&gt; &lt;dbl&gt;  &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;\n1 counselors      98010      99  1.35      1  2.1      0   280\n2 psychologists   98010       3  0.4       0  1.21     0   175\n3 security_guards 98010    2468  0.37      0  1.42     0   100\n\n# Short Textual Introduction (to include in your report)\ncat(\"The school support dataset contains information on the number of full-time equivalent (FTE) counselors, psychologists, and security guards at individual schools. After removing negative and missing values, we found that most schools have very few support staff, with distributions heavily skewed toward zero. While the majority of schools report no psychologists or guards, a small number of schools report larger support teams. The presence of a few schools with unusually high staff numbers indicates variation likely related to school size or reporting differences.\")\n\nThe school support dataset contains information on the number of full-time equivalent (FTE) counselors, psychologists, and security guards at individual schools. After removing negative and missing values, we found that most schools have very few support staff, with distributions heavily skewed toward zero. While the majority of schools report no psychologists or guards, a small number of schools report larger support teams. The presence of a few schools with unusually high staff numbers indicates variation likely related to school size or reporting differences.\n\n\n#Dataset 3. Enrollment\n\nlibrary(tidyverse)\n\n# ---- 0. Load and Clean Enrollment Data ----\nenrollment_data &lt;- read_csv(\"dataset/Enrollment.csv\") %&gt;%\n  select(\n    SCH_ENR_HI_M, SCH_ENR_HI_F,\n    SCH_ENR_AM_M, SCH_ENR_AM_F,\n    SCH_ENR_AS_M, SCH_ENR_AS_F,\n    SCH_ENR_HP_M, SCH_ENR_HP_F,\n    SCH_ENR_BL_M, SCH_ENR_BL_F,\n    SCH_ENR_WH_M, SCH_ENR_WH_F,\n    SCH_ENR_TR_M, SCH_ENR_TR_F\n  ) %&gt;%\n  mutate(across(everything(), ~ ifelse(. &lt; 0, NA, .)))  # Remove negatives\n\nRows: 98010 Columns: 233\n── Column specification ────────────────────────────────────────────────────────\nDelimiter: \",\"\nchr   (8): LEA_STATE, LEA_STATE_NAME, LEAID, LEA_NAME, SCHID, SCH_NAME, COMB...\ndbl (225): SCH_ENR_HI_M, SCH_ENR_HI_F, SCH_ENR_HI_X, SCH_ENR_AM_M, SCH_ENR_A...\n\nℹ Use `spec()` to retrieve the full column specification for this data.\nℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.\n\n# ---- 1. Missing Data Rate Table ----\nmissing_summary &lt;- enrollment_data %&gt;%\n  summarise(across(everything(), ~ mean(is.na(.)))) %&gt;%\n  pivot_longer(cols = everything(), names_to = \"Variable\", values_to = \"MissingRate\") %&gt;%\n  mutate(MissingRate = round(MissingRate * 100, 2))  # as percentage\n\n# ---- 2. Summarize Total Enrollment by Race ----\nrace_summary &lt;- enrollment_data %&gt;%\n  pivot_longer(cols = everything(), names_to = \"RaceSex\", values_to = \"Enrollment\") %&gt;%\n  filter(!is.na(Enrollment)) %&gt;%\n  mutate(\n    Race = case_when(\n      str_detect(RaceSex, \"HI\") ~ \"Hispanic\",\n      str_detect(RaceSex, \"AM\") ~ \"AmericanIndian\",\n      str_detect(RaceSex, \"AS\") ~ \"Asian\",\n      str_detect(RaceSex, \"HP\") ~ \"PacificIslander\",\n      str_detect(RaceSex, \"BL\") ~ \"Black\",\n      str_detect(RaceSex, \"WH\") ~ \"White\",\n      str_detect(RaceSex, \"TR\") ~ \"TwoOrMore\"\n    )\n  ) %&gt;%\n  group_by(Race) %&gt;%\n  summarise(Total_Enrollment = sum(Enrollment, na.rm = TRUE)) %&gt;%\n  arrange(desc(Total_Enrollment))\n\n# ---- 3. Stacked Bar Chart of Enrollment by Race and Gender ----\nenrollment_long &lt;- enrollment_data %&gt;%\n  pivot_longer(cols = everything(), names_to = \"RaceSex\", values_to = \"Enrollment\") %&gt;%\n  filter(!is.na(Enrollment)) %&gt;%\n  mutate(\n    Race = case_when(\n      str_detect(RaceSex, \"HI\") ~ \"Hispanic\",\n      str_detect(RaceSex, \"AM\") ~ \"AmericanIndian\",\n      str_detect(RaceSex, \"AS\") ~ \"Asian\",\n      str_detect(RaceSex, \"HP\") ~ \"PacificIslander\",\n      str_detect(RaceSex, \"BL\") ~ \"Black\",\n      str_detect(RaceSex, \"WH\") ~ \"White\",\n      str_detect(RaceSex, \"TR\") ~ \"TwoOrMore\"\n    ),\n    Gender = case_when(\n      str_detect(RaceSex, \"_M$\") ~ \"Male\",\n      str_detect(RaceSex, \"_F$\") ~ \"Female\"\n    )\n  )\n\n# Plot stacked bar\nggplot(enrollment_long, aes(x = reorder(Race, -Enrollment, sum), y = Enrollment, fill = Gender)) +\n  geom_bar(stat = \"summary\", fun = \"sum\", width = 0.7, position = \"stack\") +\n  labs(\n    title = \"Student Enrollment by Race and Gender\",\n    x = \"Race Group\",\n    y = \"Total Number of Students\",\n    fill = \"Gender\"\n  ) +\n  theme_minimal() +\n  theme(axis.text.x = element_text(angle = 45, hjust = 1))\n\n\n\n\n\n\n\n# ---- 4. Outputs ----\nmissing_summary  # Table of missing data rate (%)\n\n# A tibble: 14 × 2\n   Variable     MissingRate\n   &lt;chr&gt;              &lt;dbl&gt;\n 1 SCH_ENR_HI_M        1.92\n 2 SCH_ENR_HI_F        1.92\n 3 SCH_ENR_AM_M        1.92\n 4 SCH_ENR_AM_F        1.92\n 5 SCH_ENR_AS_M        1.92\n 6 SCH_ENR_AS_F        1.92\n 7 SCH_ENR_HP_M        1.92\n 8 SCH_ENR_HP_F        1.92\n 9 SCH_ENR_BL_M        1.91\n10 SCH_ENR_BL_F        1.92\n11 SCH_ENR_WH_M        1.92\n12 SCH_ENR_WH_F        1.93\n13 SCH_ENR_TR_M        1.92\n14 SCH_ENR_TR_F        1.92\n\nrace_summary     # Table of total enrollment per race\n\n# A tibble: 7 × 2\n  Race            Total_Enrollment\n  &lt;chr&gt;                      &lt;dbl&gt;\n1 White                   21947054\n2 Hispanic                13914099\n3 Black                    7197685\n4 Asian                    2611056\n5 TwoOrMore                2284917\n6 AmericanIndian            456405\n7 PacificIslander           185273"
  },
  {
    "objectID": "scripts/data_clean_process.html",
    "href": "scripts/data_clean_process.html",
    "title": "MA [46]15 Final Project TEAM 9",
    "section": "",
    "text": "library(tidyverse)\n\n── Attaching core tidyverse packages ──────────────────────── tidyverse 2.0.0 ──\n✔ dplyr     1.1.4     ✔ readr     2.1.5\n✔ forcats   1.0.0     ✔ stringr   1.5.1\n✔ ggplot2   3.5.1     ✔ tibble    3.2.1\n✔ lubridate 1.9.4     ✔ tidyr     1.3.1\n✔ purrr     1.0.2     \n── Conflicts ────────────────────────────────────────── tidyverse_conflicts() ──\n✖ dplyr::filter() masks stats::filter()\n✖ dplyr::lag()    masks stats::lag()\nℹ Use the conflicted package (&lt;http://conflicted.r-lib.org/&gt;) to force all conflicts to become errors\n\nlibrary(here)\n\nhere() starts at /Users/libaijie/ma415-lab0/ma4615-sp25-final-project-team-9\n\n# Reserved codes that should be treated as missing\nreserved_codes &lt;- c(-3, -4, -5, -6, -9, -12, -13)\n\n# Load datasets using here::here()\nharassment_data &lt;- read_csv(here(\"dataset\", \"Harassment and Bullying.csv\"), show_col_types = FALSE)\nenrollment_data &lt;- read_csv(here(\"dataset\", \"Enrollment.csv\"), show_col_types = FALSE)\nsupport_data &lt;- read_csv(here(\"dataset\", \"School Support.csv\"), show_col_types = FALSE)\n\n# Variables to extract\nharassment_vars &lt;- c(\n  \"SCH_HBALLEGATIONS_SEX\", \"SCH_HBALLEGATIONS_RAC\", \"SCH_HBALLEGATIONS_DIS\", \"SCH_HBALLEGATIONS_REL\",\n  \"SCH_HBREPORTED_RAC_HI_M\", \"SCH_HBREPORTED_RAC_HI_F\",\n  \"SCH_HBREPORTED_RAC_AM_M\", \"SCH_HBREPORTED_RAC_AM_F\",\n  \"SCH_HBREPORTED_RAC_AS_M\", \"SCH_HBREPORTED_RAC_AS_F\",\n  \"SCH_HBREPORTED_RAC_HP_M\", \"SCH_HBREPORTED_RAC_HP_F\",\n  \"SCH_HBREPORTED_RAC_BL_M\", \"SCH_HBREPORTED_RAC_BL_F\",\n  \"SCH_HBREPORTED_RAC_WH_M\", \"SCH_HBREPORTED_RAC_WH_F\",\n  \"SCH_HBREPORTED_RAC_TR_M\", \"SCH_HBREPORTED_RAC_TR_F\"\n)\n\nenrollment_vars &lt;- c(\n  \"SCH_ENR_HI_M\", \"SCH_ENR_HI_F\", \"SCH_ENR_AM_M\", \"SCH_ENR_AM_F\",\n  \"SCH_ENR_AS_M\", \"SCH_ENR_AS_F\", \"SCH_ENR_HP_M\", \"SCH_ENR_HP_F\",\n  \"SCH_ENR_BL_M\", \"SCH_ENR_BL_F\", \"SCH_ENR_WH_M\", \"SCH_ENR_WH_F\",\n  \"SCH_ENR_TR_M\", \"SCH_ENR_TR_F\"\n)\n\nsupport_vars &lt;- c(\"SCH_FTECOUNSELORS\", \"SCH_FTESERVICES_PSY\", \"SCH_FTESECURITY_GUA\")\n\n# Clean harassment data\nharassment_clean &lt;- harassment_data %&gt;%\n  select(all_of(harassment_vars)) %&gt;%\n  rename_with(~ str_remove(., \"^SCH_\")) %&gt;%\n  mutate(across(everything(), ~ ifelse(.x %in% reserved_codes, NA, .x)))\n\n# Clean enrollment data\nenrollment_clean &lt;- enrollment_data %&gt;%\n  select(all_of(enrollment_vars)) %&gt;%\n  rename_with(~ str_remove(., \"^SCH_\")) %&gt;%\n  mutate(across(everything(), ~ ifelse(.x %in% reserved_codes, NA, .x)))\n\n# Clean support data\nsupport_clean &lt;- support_data %&gt;%\n  select(all_of(support_vars)) %&gt;%\n  rename_with(~ str_remove(., \"^SCH_\")) %&gt;%\n  mutate(across(everything(), ~ ifelse(.x %in% reserved_codes, NA, .x)))\n\n# Merge datasets together (row-wise binding by row order)\nfinal_clean_data &lt;- bind_cols(harassment_clean, enrollment_clean, support_clean)\n\n# Save the cleaned dataset\nwrite_rds(final_clean_data, here(\"dataset\", \"final_clean_data.rds\"))\nwrite_csv(final_clean_data, here(\"dataset\", \"final_clean_data.csv\"))"
  },
  {
    "objectID": "scripts/Disability Analysis.html",
    "href": "scripts/Disability Analysis.html",
    "title": "MA [46]15 Final Project TEAM 9",
    "section": "",
    "text": "If want to remove all reserve code values (-3,-4,-5,-6,-9,-12,-13)\n\nlibrary(tidyverse)\n\n── Attaching core tidyverse packages ──────────────────────── tidyverse 2.0.0 ──\n✔ dplyr     1.1.4     ✔ readr     2.1.5\n✔ forcats   1.0.0     ✔ stringr   1.5.1\n✔ ggplot2   3.5.1     ✔ tibble    3.2.1\n✔ lubridate 1.9.4     ✔ tidyr     1.3.1\n✔ purrr     1.0.2     \n── Conflicts ────────────────────────────────────────── tidyverse_conflicts() ──\n✖ dplyr::filter() masks stats::filter()\n✖ dplyr::lag()    masks stats::lag()\nℹ Use the conflicted package (&lt;http://conflicted.r-lib.org/&gt;) to force all conflicts to become errors\n\ndata &lt;- readRDS(\"dataset/cleaned_dataset.rds\")\nclass(data)\n\n[1] \"data.frame\"\n\nreserve_codes &lt;- c(-3, -4, -5, -6, -9, -12, -13)\ncleaned_data &lt;- data %&gt;%\n  filter(if_all(everything(), ~ !(.x %in% reserve_codes)))\nhead(cleaned_data)\n\n  LEA_STATE LEA_STATE_NAME  LEAID               LEA_NAME SCHID\n1        AL        ALABAMA 100002 Alabama Youth Services 99995\n2        AL        ALABAMA 100005       Albertville City   870\n3        AL        ALABAMA 100005       Albertville City   871\n4        AL        ALABAMA 100005       Albertville City   879\n5        AL        ALABAMA 100005       Albertville City   889\n6        AL        ALABAMA 100005       Albertville City  1616\n                               NAME    COMBOKEY  JJ HBALLEGATIONS_SEX\n1                    AUTAUGA CAMPUS 10000299995 Yes                 0\n2         Albertville Middle School 10000500870  No                 2\n3           Albertville High School 10000500871  No                 4\n4   Albertville Intermediate School 10000500879  No                 1\n5     Albertville Elementary School 10000500889  No                 0\n6 Albertville Kindergarten and PreK 10000501616  No                 0\n  HBALLEGATIONS_ORI HBALLEGATIONS_RAC HBALLEGATIONS_DIS HBALLEGATIONS_REL\n1                 0                 0                 0                 0\n2                 0                 0                 0                 0\n3                 0                 1                 0                 0\n4                 0                 1                 0                 0\n5                 0                 0                 0                 0\n6                 0                 0                 0                 0\n  HBALLEGATIONS_REL_ATAG HBALLEGATIONS_REL_BUDD HBALLEGATIONS_REL_CATH\n1                      0                      0                      0\n2                      0                      0                      0\n3                      0                      0                      0\n4                      0                      0                      0\n5                      0                      0                      0\n6                      0                      0                      0\n  HBALLEGATIONS_REL_EAST HBALLEGATIONS_REL_HIND HBALLEGATIONS_REL_ISLM\n1                      0                      0                      0\n2                      0                      0                      0\n3                      0                      0                      0\n4                      0                      0                      0\n5                      0                      0                      0\n6                      0                      0                      0\n  HBALLEGATIONS_REL_JWIT HBALLEGATIONS_REL_JWSH HBALLEGATIONS_REL_MORM\n1                      0                      0                      0\n2                      0                      0                      0\n3                      0                      0                      0\n4                      0                      0                      0\n5                      0                      0                      0\n6                      0                      0                      0\n  HBALLEGATIONS_REL_MULTI HBALLEGATIONS_REL_OTHCHRN HBALLEGATIONS_REL_OTHREL\n1                       0                         0                        0\n2                       0                         0                        0\n3                       0                         0                        0\n4                       0                         0                        0\n5                       0                         0                        0\n6                       0                         0                        0\n  HBALLEGATIONS_REL_PROT HBALLEGATIONS_REL_SIKH HBREPORTED_SEX_HI_M\n1                      0                      0                   0\n2                      0                      0                   0\n3                      0                      0                   1\n4                      0                      0                   0\n5                      0                      0                   0\n6                      0                      0                   0\n  HBREPORTED_SEX_HI_F HBREPORTED_SEX_AM_M HBREPORTED_SEX_AM_F\n1                   0                   0                   0\n2                   0                   0                   0\n3                   1                   0                   0\n4                   1                   0                   0\n5                   0                   0                   0\n6                   0                   0                   0\n  HBREPORTED_SEX_AS_M HBREPORTED_SEX_AS_F HBREPORTED_SEX_HP_M\n1                   0                   0                   0\n2                   0                   0                   0\n3                   0                   0                   0\n4                   0                   0                   0\n5                   0                   0                   0\n6                   0                   0                   0\n  HBREPORTED_SEX_HP_F HBREPORTED_SEX_BL_M HBREPORTED_SEX_BL_F\n1                   0                   0                   0\n2                   0                   0                   0\n3                   0                   0                   0\n4                   0                   0                   0\n5                   0                   0                   0\n6                   0                   0                   0\n  HBREPORTED_SEX_WH_M HBREPORTED_SEX_WH_F HBREPORTED_SEX_TR_M\n1                   0                   0                   0\n2                   0                   2                   0\n3                   0                   2                   0\n4                   0                   2                   0\n5                   0                   0                   0\n6                   0                   0                   0\n  HBREPORTED_SEX_TR_F TOT_HBREPORTED_SEX_M TOT_HBREPORTED_SEX_F\n1                   0                    0                    0\n2                   0                    0                    2\n3                   0                    1                    3\n4                   0                    0                    3\n5                   0                    0                    0\n6                   0                    0                    0\n  HBREPORTED_SEX_EL_M HBREPORTED_SEX_EL_F HBREPORTED_SEX_IDEA_M\n1                   0                   0                     0\n2                   0                   0                     0\n3                   1                   1                     0\n4                   0                   1                     0\n5                   0                   0                     0\n6                   0                   0                     0\n  HBREPORTED_SEX_IDEA_F HBREPORTED_SEX_504_M HBREPORTED_SEX_504_F\n1                     0                    0                    0\n2                     0                    0                    0\n3                     0                    0                    0\n4                     0                    0                    0\n5                     0                    0                    0\n6                     0                    0                    0\n  HBREPORTED_RAC_HI_M HBREPORTED_RAC_HI_F HBREPORTED_RAC_AM_M\n1                   0                   0                   0\n2                   0                   0                   0\n3                   0                   0                   0\n4                   0                   0                   0\n5                   0                   0                   0\n6                   0                   0                   0\n  HBREPORTED_RAC_AM_F HBREPORTED_RAC_AS_M HBREPORTED_RAC_AS_F\n1                   0                   0                   0\n2                   0                   0                   0\n3                   0                   0                   0\n4                   0                   0                   0\n5                   0                   0                   0\n6                   0                   0                   0\n  HBREPORTED_RAC_HP_M HBREPORTED_RAC_HP_F HBREPORTED_RAC_BL_M\n1                   0                   0                   0\n2                   0                   0                   0\n3                   0                   0                   0\n4                   0                   0                   1\n5                   0                   0                   0\n6                   0                   0                   0\n  HBREPORTED_RAC_BL_F HBREPORTED_RAC_WH_M HBREPORTED_RAC_WH_F\n1                   0                   0                   0\n2                   0                   0                   0\n3                   0                   1                   0\n4                   1                   1                   1\n5                   0                   0                   0\n6                   0                   0                   0\n  HBREPORTED_RAC_TR_M HBREPORTED_RAC_TR_F TOT_HBREPORTED_RAC_M\n1                   0                   0                    0\n2                   0                   0                    0\n3                   0                   0                    1\n4                   1                   1                    3\n5                   0                   0                    0\n6                   0                   0                    0\n  TOT_HBREPORTED_RAC_F HBREPORTED_RAC_EL_M HBREPORTED_RAC_EL_F\n1                    0                   0                   0\n2                    0                   0                   0\n3                    0                   0                   0\n4                    3                   0                   0\n5                    0                   0                   0\n6                    0                   0                   0\n  HBREPORTED_RAC_IDEA_M HBREPORTED_RAC_IDEA_F HBREPORTED_RAC_504_M\n1                     0                     0                    0\n2                     0                     0                    0\n3                     0                     0                    0\n4                     0                     0                    0\n5                     0                     0                    0\n6                     0                     0                    0\n  HBREPORTED_RAC_504_F HBREPORTED_DIS_HI_M HBREPORTED_DIS_HI_F\n1                    0                   0                   0\n2                    0                   0                   0\n3                    0                   0                   0\n4                    0                   0                   0\n5                    0                   0                   0\n6                    0                   0                   0\n  HBREPORTED_DIS_AM_M HBREPORTED_DIS_AM_F HBREPORTED_DIS_AS_M\n1                   0                   0                   0\n2                   0                   0                   0\n3                   0                   0                   0\n4                   0                   0                   0\n5                   0                   0                   0\n6                   0                   0                   0\n  HBREPORTED_DIS_AS_F HBREPORTED_DIS_HP_M HBREPORTED_DIS_HP_F\n1                   0                   0                   0\n2                   0                   0                   0\n3                   0                   0                   0\n4                   0                   0                   0\n5                   0                   0                   0\n6                   0                   0                   0\n  HBREPORTED_DIS_BL_M HBREPORTED_DIS_BL_F HBREPORTED_DIS_WH_M\n1                   0                   0                   0\n2                   0                   0                   0\n3                   0                   0                   0\n4                   0                   0                   0\n5                   0                   0                   0\n6                   0                   0                   0\n  HBREPORTED_DIS_WH_F HBREPORTED_DIS_TR_M HBREPORTED_DIS_TR_F\n1                   0                   0                   0\n2                   0                   0                   0\n3                   0                   0                   0\n4                   0                   0                   0\n5                   0                   0                   0\n6                   0                   0                   0\n  TOT_HBREPORTED_DIS_M TOT_HBREPORTED_DIS_F HBREPORTED_DIS_EL_M\n1                    0                    0                   0\n2                    0                    0                   0\n3                    0                    0                   0\n4                    0                    0                   0\n5                    0                    0                   0\n6                    0                    0                   0\n  HBREPORTED_DIS_EL_F HBREPORTED_DIS_IDEA_M HBREPORTED_DIS_IDEA_F\n1                   0                     0                     0\n2                   0                     0                     0\n3                   0                     0                     0\n4                   0                     0                     0\n5                   0                     0                     0\n6                   0                     0                     0\n  HBREPORTED_DIS_504_M HBREPORTED_DIS_504_F HBDISCIPLINED_SEX_HI_M\n1                    0                    0                      0\n2                    0                    0                      1\n3                    0                    0                      1\n4                    0                    0                      1\n5                    0                    0                      0\n6                    0                    0                      0\n  HBDISCIPLINED_SEX_HI_F HBDISCIPLINED_SEX_AM_M HBDISCIPLINED_SEX_AM_F\n1                      0                      0                      0\n2                      0                      0                      0\n3                      1                      0                      0\n4                      0                      0                      0\n5                      0                      0                      0\n6                      0                      0                      0\n  HBDISCIPLINED_SEX_AS_M HBDISCIPLINED_SEX_AS_F HBDISCIPLINED_SEX_HP_M\n1                      0                      0                      0\n2                      0                      0                      0\n3                      0                      0                      0\n4                      0                      0                      0\n5                      0                      0                      0\n6                      0                      0                      0\n  HBDISCIPLINED_SEX_HP_F HBDISCIPLINED_SEX_BL_M HBDISCIPLINED_SEX_BL_F\n1                      0                      0                      0\n2                      0                      0                      0\n3                      0                      0                      0\n4                      0                      0                      0\n5                      0                      0                      0\n6                      0                      0                      0\n  HBDISCIPLINED_SEX_WH_M HBDISCIPLINED_SEX_WH_F HBDISCIPLINED_SEX_TR_M\n1                      0                      0                      0\n2                      1                      0                      0\n3                      1                      0                      0\n4                      1                      0                      0\n5                      0                      0                      0\n6                      0                      0                      0\n  HBDISCIPLINED_SEX_TR_F TOT_HBDISCIPLINED_SEX_M TOT_HBDISCIPLINED_SEX_F\n1                      0                       0                       0\n2                      0                       2                       0\n3                      0                       2                       1\n4                      0                       2                       0\n5                      0                       0                       0\n6                      0                       0                       0\n  HBDISCIPLINED_SEX_EL_M HBDISCIPLINED_SEX_EL_F HBDISCIPLINED_SEX_IDEA_M\n1                      0                      0                        0\n2                      1                      0                        0\n3                      1                      0                        1\n4                      1                      0                        0\n5                      0                      0                        0\n6                      0                      0                        0\n  HBDISCIPLINED_SEX_IDEA_F HBDISCIPLINED_SEX_504_M HBDISCIPLINED_SEX_504_F\n1                        0                       0                       0\n2                        0                       0                       0\n3                        0                       0                       0\n4                        0                       0                       0\n5                        0                       0                       0\n6                        0                       0                       0\n  HBDISCIPLINED_RAC_HI_M HBDISCIPLINED_RAC_HI_F HBDISCIPLINED_RAC_AM_M\n1                      0                      0                      0\n2                      0                      0                      0\n3                      0                      0                      0\n4                      1                      0                      0\n5                      0                      0                      0\n6                      0                      0                      0\n  HBDISCIPLINED_RAC_AM_F HBDISCIPLINED_RAC_AS_M HBDISCIPLINED_RAC_AS_F\n1                      0                      0                      0\n2                      0                      0                      0\n3                      0                      0                      0\n4                      0                      0                      0\n5                      0                      0                      0\n6                      0                      0                      0\n  HBDISCIPLINED_RAC_HP_M HBDISCIPLINED_RAC_HP_F HBDISCIPLINED_RAC_BL_M\n1                      0                      0                      0\n2                      0                      0                      0\n3                      0                      0                      0\n4                      0                      0                      0\n5                      0                      0                      0\n6                      0                      0                      0\n  HBDISCIPLINED_RAC_BL_F HBDISCIPLINED_RAC_WH_M HBDISCIPLINED_RAC_WH_F\n1                      0                      0                      0\n2                      0                      0                      0\n3                      0                      1                      0\n4                      0                      1                      2\n5                      0                      0                      0\n6                      0                      0                      0\n  HBDISCIPLINED_RAC_TR_M HBDISCIPLINED_RAC_TR_F TOT_HBDISCIPLINED_RAC_M\n1                      0                      0                       0\n2                      0                      0                       0\n3                      0                      0                       1\n4                      0                      0                       2\n5                      0                      0                       0\n6                      0                      0                       0\n  TOT_HBDISCIPLINED_RAC_F HBDISCIPLINED_RAC_EL_M HBDISCIPLINED_RAC_EL_F\n1                       0                      0                      0\n2                       0                      0                      0\n3                       0                      0                      0\n4                       2                      0                      0\n5                       0                      0                      0\n6                       0                      0                      0\n  HBDISCIPLINED_RAC_IDEA_M HBDISCIPLINED_RAC_IDEA_F HBDISCIPLINED_RAC_504_M\n1                        0                        0                       0\n2                        0                        0                       0\n3                        0                        0                       0\n4                        0                        0                       0\n5                        0                        0                       0\n6                        0                        0                       0\n  HBDISCIPLINED_RAC_504_F HBDISCIPLINED_DIS_HI_M HBDISCIPLINED_DIS_HI_F\n1                       0                      0                      0\n2                       0                      0                      0\n3                       0                      0                      0\n4                       0                      0                      0\n5                       0                      0                      0\n6                       0                      0                      0\n  HBDISCIPLINED_DIS_AM_M HBDISCIPLINED_DIS_AM_F HBDISCIPLINED_DIS_AS_M\n1                      0                      0                      0\n2                      0                      0                      0\n3                      0                      0                      0\n4                      0                      0                      0\n5                      0                      0                      0\n6                      0                      0                      0\n  HBDISCIPLINED_DIS_AS_F HBDISCIPLINED_DIS_HP_M HBDISCIPLINED_DIS_HP_F\n1                      0                      0                      0\n2                      0                      0                      0\n3                      0                      0                      0\n4                      0                      0                      0\n5                      0                      0                      0\n6                      0                      0                      0\n  HBDISCIPLINED_DIS_BL_M HBDISCIPLINED_DIS_BL_F HBDISCIPLINED_DIS_WH_M\n1                      0                      0                      0\n2                      0                      0                      0\n3                      0                      0                      0\n4                      0                      0                      0\n5                      0                      0                      0\n6                      0                      0                      0\n  HBDISCIPLINED_DIS_WH_F HBDISCIPLINED_DIS_TR_M HBDISCIPLINED_DIS_TR_F\n1                      0                      0                      0\n2                      0                      0                      0\n3                      0                      0                      0\n4                      0                      0                      0\n5                      0                      0                      0\n6                      0                      0                      0\n  TOT_HBDISCIPLINED_DIS_M TOT_HBDISCIPLINED_DIS_F HBDISCIPLINED_DIS_EL_M\n1                       0                       0                      0\n2                       0                       0                      0\n3                       0                       0                      0\n4                       0                       0                      0\n5                       0                       0                      0\n6                       0                       0                      0\n  HBDISCIPLINED_DIS_EL_F HBDISCIPLINED_DIS_IDEA_M HBDISCIPLINED_DIS_IDEA_F\n1                      0                        0                        0\n2                      0                        0                        0\n3                      0                        0                        0\n4                      0                        0                        0\n5                      0                        0                        0\n6                      0                        0                        0\n  HBDISCIPLINED_DIS_504_M HBDISCIPLINED_DIS_504_F\n1                       0                       0\n2                       0                       0\n3                       0                       0\n4                       0                       0\n5                       0                       0\n6                       0                       0\n\n\n\nlibrary(tidyverse)\ndata &lt;- readRDS(\"dataset/cleaned_dataset.rds\")\n\ntarget_vars &lt;- c(\n  \"HBREPORTED_DIS_AS_M\", \"HBREPORTED_DIS_AS_F\",\n  \"HBREPORTED_DIS_HP_M\", \"HBREPORTED_DIS_HP_F\",\n  \"HBREPORTED_DIS_BL_M\", \"HBREPORTED_DIS_BL_F\",\n  \"HBREPORTED_DIS_WH_M\", \"HBREPORTED_DIS_WH_F\",\n  \"HBREPORTED_DIS_AM_M\", \"HBREPORTED_DIS_AM_F\",\n  \"HBREPORTED_DIS_HI_M\", \"HBREPORTED_DIS_HI_F\",\n  \"HBREPORTED_DIS_IDEA_M\", \"HBREPORTED_DIS_IDEA_F\",\n  \"HBREPORTED_DIS_504_M\", \"HBREPORTED_DIS_504_F\",\n  \"HBREPORTED_DIS_EL_M\", \"HBREPORTED_DIS_EL_F\",\n  \"HBREPORTED_DIS_TR_M\", \"HBREPORTED_DIS_TR_F\"\n)\n\nlong_data &lt;- data %&gt;%\n  select(all_of(target_vars)) %&gt;%\n  pivot_longer(cols = everything(), names_to = \"variable\", values_to = \"count\") %&gt;%\n  filter(count &gt;= 0) %&gt;%\n  mutate(\n    group = case_when(\n      variable == \"HBREPORTED_DIS_AS_M\" ~ \"Asian_M\",\n      variable == \"HBREPORTED_DIS_AS_F\" ~ \"Asian_F\",\n      variable == \"HBREPORTED_DIS_HP_M\" ~ \"NativeHawaiian_M\",\n      variable == \"HBREPORTED_DIS_HP_F\" ~ \"NativeHawaiian_F\",\n      variable == \"HBREPORTED_DIS_BL_M\" ~ \"Black_M\",\n      variable == \"HBREPORTED_DIS_BL_F\" ~ \"Black_F\",\n      variable == \"HBREPORTED_DIS_WH_M\" ~ \"White_M\",\n      variable == \"HBREPORTED_DIS_WH_F\" ~ \"White_F\",\n      variable == \"HBREPORTED_DIS_AM_M\" ~ \"AmericanIndian_M\",\n      variable == \"HBREPORTED_DIS_AM_F\" ~ \"AmericanIndian_F\",\n      variable == \"HBREPORTED_DIS_HI_M\" ~ \"Hispanic_M\",\n      variable == \"HBREPORTED_DIS_HI_F\" ~ \"Hispanic_F\",\n      variable == \"HBREPORTED_DIS_IDEA_M\" ~ \"IDEA_M\",\n      variable == \"HBREPORTED_DIS_IDEA_F\" ~ \"IDEA_F\",\n      variable == \"HBREPORTED_DIS_504_M\" ~ \"504_M\",\n      variable == \"HBREPORTED_DIS_504_F\" ~ \"504_F\",\n      variable == \"HBREPORTED_DIS_TR_M\" ~ \"TwoOrPlusRaces_M\",\n      variable == \"HBREPORTED_DIS_TR_F\" ~ \"TwoOrPlusRaces_F\",\n      variable == \"HBREPORTED_DIS_EL_M\" ~ \"EL_M\",\n      variable == \"HBREPORTED_DIS_EL_F\" ~ \"EL_F\"\n    ),\n    Race = str_extract(group, \"^[^_]+\"),\n    Gender = str_extract(group, \"(M|F)\")\n  )\n\nsummary_data &lt;- long_data %&gt;%\n  mutate(\n    Race = ifelse(is.na(Race), \"Others\", Race),\n    Gender = recode(Gender, \"M\" = \"Male\", \"F\" = \"Female\")\n  ) %&gt;%\n  group_by(Race, Gender) %&gt;%\n  summarise(total_reports = sum(count), .groups = \"drop\")\n\nsummary_data$Race &lt;- factor(summary_data$Race, levels = c(\n  \"Asian\", \"Black\", \"White\", \"Hispanic\", \"AmericanIndian\", \"NativeHawaiian\",\n  \"TwoOrPlusRaces\", \"IDEA\", \"504\", \"EL\"\n))\n\nsummary_data &lt;- summary_data %&gt;%\n  filter(!is.na(Race))\n\nggplot(summary_data, aes(x = total_reports, y = Race, fill = Gender)) +\n  geom_col(position = position_dodge(width = 0.7), width = 0.6) +\n  geom_text(\n    aes(label = total_reports),\n    position = position_dodge(width = 0.7),\n    hjust = -0.1,\n    size = 3.5,\n    color = \"black\"\n  ) +\n  labs(\n    title = \"Students Reported as Harassed or Bullied (Disability) by Group&Gender\",\n    x = \"# of Reports\",\n    y = \"Group\"\n  ) +\n  scale_fill_manual(values = c(\"Male\" = \"steelblue\", \"Female\" = \"pink\")) +\n  theme_minimal()\n\n\n\n\n\n\n\nsummary_data %&gt;%\n  filter(Race == \"AmericanIndian\" |Race == \"Hispanic\" |Race == \"NativeHawaiian\" |Race == \"White\" |Race == \"Black\" |Race == \"Asian\" |Race == \"504\" |Race == \"EL\" |Race == \"TwoOrPlusRaces\" | Race == \"IDEA\") %&gt;%\n  group_by(Race, Gender) %&gt;%\n  summarise(total_reports = sum(total_reports))\n\n`summarise()` has grouped output by 'Race'. You can override using the\n`.groups` argument.\n\n\n# A tibble: 20 × 3\n# Groups:   Race [10]\n   Race           Gender total_reports\n   &lt;fct&gt;          &lt;chr&gt;          &lt;int&gt;\n 1 Asian          Female            63\n 2 Asian          Male             138\n 3 Black          Female           519\n 4 Black          Male             885\n 5 White          Female          1536\n 6 White          Male            3164\n 7 Hispanic       Female           598\n 8 Hispanic       Male            1062\n 9 AmericanIndian Female            32\n10 AmericanIndian Male              59\n11 NativeHawaiian Female            11\n12 NativeHawaiian Male              12\n13 TwoOrPlusRaces Female           146\n14 TwoOrPlusRaces Male             245\n15 IDEA           Female          1160\n16 IDEA           Male            2753\n17 504            Female           131\n18 504            Male             252\n19 EL             Female           154\n20 EL             Male             344"
  },
  {
    "objectID": "scripts/blogpost5.html",
    "href": "scripts/blogpost5.html",
    "title": "MA [46]15 Final Project TEAM 9",
    "section": "",
    "text": "# Load necessary libraries\nlibrary(tidyverse)\n\n── Attaching core tidyverse packages ──────────────────────── tidyverse 2.0.0 ──\n✔ dplyr     1.1.4     ✔ readr     2.1.5\n✔ forcats   1.0.0     ✔ stringr   1.5.1\n✔ ggplot2   3.5.1     ✔ tibble    3.2.1\n✔ lubridate 1.9.4     ✔ tidyr     1.3.1\n✔ purrr     1.0.2     \n── Conflicts ────────────────────────────────────────── tidyverse_conflicts() ──\n✖ dplyr::filter() masks stats::filter()\n✖ dplyr::lag()    masks stats::lag()\nℹ Use the conflicted package (&lt;http://conflicted.r-lib.org/&gt;) to force all conflicts to become errors\n\n# Step 1: Read the CSV\nenrollment &lt;- read_csv(\"dataset/Enrollment.csv\")\n\nRows: 98010 Columns: 233\n── Column specification ────────────────────────────────────────────────────────\nDelimiter: \",\"\nchr   (8): LEA_STATE, LEA_STATE_NAME, LEAID, LEA_NAME, SCHID, SCH_NAME, COMB...\ndbl (225): SCH_ENR_HI_M, SCH_ENR_HI_F, SCH_ENR_HI_X, SCH_ENR_AM_M, SCH_ENR_A...\n\nℹ Use `spec()` to retrieve the full column specification for this data.\nℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.\n\n# Step 2: Select only the relevant demographic columns (race + gender + nonbinary)\n# Tip: Use matches() to help with pattern matching if needed\nstudent_columns &lt;- c(\n  \"Number of Hispanic Male Students\",\n  \"Number of Hispanic Female Students\",\n  \"Number of Hispanic Nonbinary Students\",\n  \"Number of American Indian/Alaska Native Male Students\",\n  \"Number of American Indian/Alaska Native Female Students\",\n  \"Number of American Indian/Alaska Native Nonbinary Students\",\n  \"Number of Asian Male Students\",\n  \"Number of Asian Female Students\",\n  \"Number of Asian Nonbinary Students\",\n  \"Number of Native Hawaiian/Pacific Islander Male Students\",\n  \"Number of Native Hawaiian/Pacific Islander Female Students\",\n  \"Number of Native Hawaiian/Pacific Islander Nonbinary Students\",\n  \"Number of Black Male Students\",\n  \"Number of Black Female Students\",\n  \"Number of Black Nonbinary Students\",\n  \"Number of White Male Students\",\n  \"Number of White Female Students\",\n  \"Number of White Nonbinary Students\",\n  \"Number of Two or More Races Male Students\",\n  \"Number of Two or More Races Female Students\",\n  \"Number of Two or More Races Nonbinary Students\"\n)\n\ncolnames(enrollment)\n\n  [1] \"LEA_STATE\"            \"LEA_STATE_NAME\"       \"LEAID\"               \n  [4] \"LEA_NAME\"             \"SCHID\"                \"SCH_NAME\"            \n  [7] \"COMBOKEY\"             \"JJ\"                   \"SCH_ENR_HI_M\"        \n [10] \"SCH_ENR_HI_F\"         \"SCH_ENR_HI_X\"         \"SCH_ENR_AM_M\"        \n [13] \"SCH_ENR_AM_F\"         \"SCH_ENR_AM_X\"         \"SCH_ENR_AS_M\"        \n [16] \"SCH_ENR_AS_F\"         \"SCH_ENR_AS_X\"         \"SCH_ENR_HP_M\"        \n [19] \"SCH_ENR_HP_F\"         \"SCH_ENR_HP_X\"         \"SCH_ENR_BL_M\"        \n [22] \"SCH_ENR_BL_F\"         \"SCH_ENR_BL_X\"         \"SCH_ENR_WH_M\"        \n [25] \"SCH_ENR_WH_F\"         \"SCH_ENR_WH_X\"         \"SCH_ENR_TR_M\"        \n [28] \"SCH_ENR_TR_F\"         \"SCH_ENR_TR_X\"         \"TOT_ENR_M\"           \n [31] \"TOT_ENR_F\"            \"TOT_ENR_X\"            \"SCH_ENR_EL_M\"        \n [34] \"SCH_ENR_EL_F\"         \"SCH_ENR_EL_X\"         \"SCH_ENR_IDEA_M\"      \n [37] \"SCH_ENR_IDEA_F\"       \"SCH_ENR_IDEA_X\"       \"SCH_ENR_504_M\"       \n [40] \"SCH_ENR_504_F\"        \"SCH_ENR_504_X\"        \"SCH_ELENR_HI_M\"      \n [43] \"SCH_ELENR_HI_F\"       \"SCH_ELENR_HI_X\"       \"SCH_ELENR_AM_M\"      \n [46] \"SCH_ELENR_AM_F\"       \"SCH_ELENR_AM_X\"       \"SCH_ELENR_AS_M\"      \n [49] \"SCH_ELENR_AS_F\"       \"SCH_ELENR_AS_X\"       \"SCH_ELENR_HP_M\"      \n [52] \"SCH_ELENR_HP_F\"       \"SCH_ELENR_HP_X\"       \"SCH_ELENR_BL_M\"      \n [55] \"SCH_ELENR_BL_F\"       \"SCH_ELENR_BL_X\"       \"SCH_ELENR_WH_M\"      \n [58] \"SCH_ELENR_WH_F\"       \"SCH_ELENR_WH_X\"       \"SCH_ELENR_TR_M\"      \n [61] \"SCH_ELENR_TR_F\"       \"SCH_ELENR_TR_X\"       \"TOT_ELENR_M\"         \n [64] \"TOT_ELENR_F\"          \"TOT_ELENR_X\"          \"SCH_ELPROGENR_HI_M\"  \n [67] \"SCH_ELPROGENR_HI_F\"   \"SCH_ELPROGENR_HI_X\"   \"SCH_ELPROGENR_AM_M\"  \n [70] \"SCH_ELPROGENR_AM_F\"   \"SCH_ELPROGENR_AM_X\"   \"SCH_ELPROGENR_AS_M\"  \n [73] \"SCH_ELPROGENR_AS_F\"   \"SCH_ELPROGENR_AS_X\"   \"SCH_ELPROGENR_HP_M\"  \n [76] \"SCH_ELPROGENR_HP_F\"   \"SCH_ELPROGENR_HP_X\"   \"SCH_ELPROGENR_BL_M\"  \n [79] \"SCH_ELPROGENR_BL_F\"   \"SCH_ELPROGENR_BL_X\"   \"SCH_ELPROGENR_WH_M\"  \n [82] \"SCH_ELPROGENR_WH_F\"   \"SCH_ELPROGENR_WH_X\"   \"SCH_ELPROGENR_TR_M\"  \n [85] \"SCH_ELPROGENR_TR_F\"   \"SCH_ELPROGENR_TR_X\"   \"TOT_ELPROGENR_M\"     \n [88] \"TOT_ELPROGENR_F\"      \"TOT_ELPROGENR_X\"      \"SCH_IDEAENR_HI_M\"    \n [91] \"SCH_IDEAENR_HI_F\"     \"SCH_IDEAENR_HI_X\"     \"SCH_IDEAENR_AM_M\"    \n [94] \"SCH_IDEAENR_AM_F\"     \"SCH_IDEAENR_AM_X\"     \"SCH_IDEAENR_AS_M\"    \n [97] \"SCH_IDEAENR_AS_F\"     \"SCH_IDEAENR_AS_X\"     \"SCH_IDEAENR_HP_M\"    \n[100] \"SCH_IDEAENR_HP_F\"     \"SCH_IDEAENR_HP_X\"     \"SCH_IDEAENR_BL_M\"    \n[103] \"SCH_IDEAENR_BL_F\"     \"SCH_IDEAENR_BL_X\"     \"SCH_IDEAENR_WH_M\"    \n[106] \"SCH_IDEAENR_WH_F\"     \"SCH_IDEAENR_WH_X\"     \"SCH_IDEAENR_TR_M\"    \n[109] \"SCH_IDEAENR_TR_F\"     \"SCH_IDEAENR_TR_X\"     \"TOT_IDEAENR_M\"       \n[112] \"TOT_IDEAENR_F\"        \"TOT_IDEAENR_X\"        \"SCH_IDEAENR_EL_M\"    \n[115] \"SCH_IDEAENR_EL_F\"     \"SCH_IDEAENR_EL_X\"     \"SCH_504ENR_HI_M\"     \n[118] \"SCH_504ENR_HI_F\"      \"SCH_504ENR_HI_X\"      \"SCH_504ENR_AM_M\"     \n[121] \"SCH_504ENR_AM_F\"      \"SCH_504ENR_AM_X\"      \"SCH_504ENR_AS_M\"     \n[124] \"SCH_504ENR_AS_F\"      \"SCH_504ENR_AS_X\"      \"SCH_504ENR_HP_M\"     \n[127] \"SCH_504ENR_HP_F\"      \"SCH_504ENR_HP_X\"      \"SCH_504ENR_BL_M\"     \n[130] \"SCH_504ENR_BL_F\"      \"SCH_504ENR_BL_X\"      \"SCH_504ENR_WH_M\"     \n[133] \"SCH_504ENR_WH_F\"      \"SCH_504ENR_WH_X\"      \"SCH_504ENR_TR_M\"     \n[136] \"SCH_504ENR_TR_F\"      \"SCH_504ENR_TR_X\"      \"TOT_504ENR_M\"        \n[139] \"TOT_504ENR_F\"         \"TOT_504ENR_X\"         \"SCH_504ENR_EL_M\"     \n[142] \"SCH_504ENR_EL_F\"      \"SCH_504ENR_EL_X\"      \"SCH_PSENR_HI_M\"      \n[145] \"SCH_PSENR_HI_F\"       \"SCH_PSENR_AM_M\"       \"SCH_PSENR_AM_F\"      \n[148] \"SCH_PSENR_AS_M\"       \"SCH_PSENR_AS_F\"       \"SCH_PSENR_HP_M\"      \n[151] \"SCH_PSENR_HP_F\"       \"SCH_PSENR_BL_M\"       \"SCH_PSENR_BL_F\"      \n[154] \"SCH_PSENR_WH_M\"       \"SCH_PSENR_WH_F\"       \"SCH_PSENR_TR_M\"      \n[157] \"SCH_PSENR_TR_F\"       \"TOT_PSENR_M\"          \"TOT_PSENR_F\"         \n[160] \"SCH_PSENR_EL_M\"       \"SCH_PSENR_EL_F\"       \"SCH_PSENR_IDEA_M\"    \n[163] \"SCH_PSENR_IDEA_F\"     \"SCH_PSENR_504_M\"      \"SCH_PSENR_504_F\"     \n[166] \"SCH_PSELENR_HI_M\"     \"SCH_PSELENR_HI_F\"     \"SCH_PSELENR_AM_M\"    \n[169] \"SCH_PSELENR_AM_F\"     \"SCH_PSELENR_AS_M\"     \"SCH_PSELENR_AS_F\"    \n[172] \"SCH_PSELENR_HP_M\"     \"SCH_PSELENR_HP_F\"     \"SCH_PSELENR_BL_M\"    \n[175] \"SCH_PSELENR_BL_F\"     \"SCH_PSELENR_WH_M\"     \"SCH_PSELENR_WH_F\"    \n[178] \"SCH_PSELENR_TR_M\"     \"SCH_PSELENR_TR_F\"     \"TOT_PSELENR_M\"       \n[181] \"TOT_PSELENR_F\"        \"SCH_PSELPROGENR_HI_M\" \"SCH_PSELPROGENR_HI_F\"\n[184] \"SCH_PSELPROGENR_AM_M\" \"SCH_PSELPROGENR_AM_F\" \"SCH_PSELPROGENR_AS_M\"\n[187] \"SCH_PSELPROGENR_AS_F\" \"SCH_PSELPROGENR_HP_M\" \"SCH_PSELPROGENR_HP_F\"\n[190] \"SCH_PSELPROGENR_BL_M\" \"SCH_PSELPROGENR_BL_F\" \"SCH_PSELPROGENR_WH_M\"\n[193] \"SCH_PSELPROGENR_WH_F\" \"SCH_PSELPROGENR_TR_M\" \"SCH_PSELPROGENR_TR_F\"\n[196] \"TOT_PSELPROGENR_M\"    \"TOT_PSELPROGENR_F\"    \"SCH_PSIDEAENR_HI_M\"  \n[199] \"SCH_PSIDEAENR_HI_F\"   \"SCH_PSIDEAENR_AM_M\"   \"SCH_PSIDEAENR_AM_F\"  \n[202] \"SCH_PSIDEAENR_AS_M\"   \"SCH_PSIDEAENR_AS_F\"   \"SCH_PSIDEAENR_HP_M\"  \n[205] \"SCH_PSIDEAENR_HP_F\"   \"SCH_PSIDEAENR_BL_M\"   \"SCH_PSIDEAENR_BL_F\"  \n[208] \"SCH_PSIDEAENR_WH_M\"   \"SCH_PSIDEAENR_WH_F\"   \"SCH_PSIDEAENR_TR_M\"  \n[211] \"SCH_PSIDEAENR_TR_F\"   \"TOT_PSIDEAENR_M\"      \"TOT_PSIDEAENR_F\"     \n[214] \"SCH_PSIDEAENR_EL_M\"   \"SCH_PSIDEAENR_EL_F\"   \"SCH_PS504ENR_HI_M\"   \n[217] \"SCH_PS504ENR_HI_F\"    \"SCH_PS504ENR_AM_M\"    \"SCH_PS504ENR_AM_F\"   \n[220] \"SCH_PS504ENR_AS_M\"    \"SCH_PS504ENR_AS_F\"    \"SCH_PS504ENR_HP_M\"   \n[223] \"SCH_PS504ENR_HP_F\"    \"SCH_PS504ENR_BL_M\"    \"SCH_PS504ENR_BL_F\"   \n[226] \"SCH_PS504ENR_WH_M\"    \"SCH_PS504ENR_WH_F\"    \"SCH_PS504ENR_TR_M\"   \n[229] \"SCH_PS504ENR_TR_F\"    \"TOT_PS504ENR_M\"       \"TOT_PS504ENR_F\"      \n[232] \"SCH_PS504ENR_EL_M\"    \"SCH_PS504ENR_EL_F\"   \n\nstudent_columns &lt;- c(\n  \"SCH_ENR_HI_M\", \"SCH_ENR_HI_F\", \"SCH_ENR_HI_X\",\n  \"SCH_ENR_AM_M\", \"SCH_ENR_AM_F\", \"SCH_ENR_AM_X\",\n  \"SCH_ENR_AS_M\", \"SCH_ENR_AS_F\", \"SCH_ENR_AS_X\",\n  \"SCH_ENR_HP_M\", \"SCH_ENR_HP_F\", \"SCH_ENR_HP_X\",\n  \"SCH_ENR_BL_M\", \"SCH_ENR_BL_F\", \"SCH_ENR_BL_X\",\n  \"SCH_ENR_WH_M\", \"SCH_ENR_WH_F\", \"SCH_ENR_WH_X\",\n  \"SCH_ENR_TR_M\", \"SCH_ENR_TR_F\", \"SCH_ENR_TR_X\"\n)\n\n\n# Step 3: Clean data & compute total enrollment per school\nenrollment_clean &lt;- enrollment %&gt;%\n  mutate(across(all_of(student_columns), ~ ifelse(. &lt; 0, 0, .))) %&gt;%\n  rowwise() %&gt;%\n  mutate(Total_Students = sum(c_across(all_of(student_columns)), na.rm = TRUE)) %&gt;%\n  ungroup()\n\n# Step 4: Preview results\nenrollment_clean %&gt;%\n  filter(LEA_STATE == \"MA\") %&gt;%\n  select(SCH_NAME, Total_Students)\n\n# A tibble: 1,868 × 2\n   SCH_NAME                       Total_Students\n   &lt;chr&gt;                                   &lt;dbl&gt;\n 1 Quabbin Regional High School              619\n 2 Quabbin Regional Middle School            532\n 3 Hardwick Elementary                       187\n 4 Hubbardston Center                        307\n 5 New Braintree Grade                        47\n 6 Oakham Center                             124\n 7 Ruggles Lane                              374\n 8 Knox Trail Middle School                  406\n 9 East Brookfield Elementary                145\n10 David Prouty High                         343\n# ℹ 1,858 more rows\n\n\n\n# Save enrollment_clean to a file\nwrite_csv(enrollment_clean, \"dataset/clean_data file/enrollment_clean.csv\")"
  },
  {
    "objectID": "about.html",
    "href": "about.html",
    "title": "About",
    "section": "",
    "text": "This comes from the file about.qmd.\nThis is a website for the final project for MA[46]15 Data Science with R by Team 9 The members of this team are below."
  },
  {
    "objectID": "about.html#nick-petrunich",
    "href": "about.html#nick-petrunich",
    "title": "About",
    "section": "Nick Petrunich",
    "text": "Nick Petrunich\nNick is a bioinformatics graduate student with a passion for data science"
  },
  {
    "objectID": "about.html#louie-belile",
    "href": "about.html#louie-belile",
    "title": "About",
    "section": "Louie Belile",
    "text": "Louie Belile\nLouie is a Junior studying Data Science with a minor in public policy"
  },
  {
    "objectID": "about.html#rashfiqur-rahman",
    "href": "about.html#rashfiqur-rahman",
    "title": "About",
    "section": "Rashfiqur Rahman",
    "text": "Rashfiqur Rahman\nRashfiqur is a BA/MS Computer Science student with interests in Machine learning and Data Science"
  },
  {
    "objectID": "about.html#baijie-li",
    "href": "about.html#baijie-li",
    "title": "About",
    "section": "Baijie Li",
    "text": "Baijie Li\nBaijie is a Junior studying in Data Science major"
  },
  {
    "objectID": "about.html#jiayi-zhang",
    "href": "about.html#jiayi-zhang",
    "title": "About",
    "section": "Jiayi Zhang",
    "text": "Jiayi Zhang\nJiayi is a Junior major in Economic and Mathematic\n\n\nAbout this Template.\nThis is based off of the standard Quarto website template from RStudio (2023.09.0 Build 463)."
  },
  {
    "objectID": "posts/2023-12-20-examples/examples.html",
    "href": "posts/2023-12-20-examples/examples.html",
    "title": "Examples",
    "section": "",
    "text": "Here are some examples of changing the size of a figure.\n\nplot(1:10)\n\n\n\n\n\n\n\n\n\nplot(1:10)\n\n\n\n\n\n\n\n\nWe can also specify column: screen and out-width: 100% so that the figure will fill the screen. plot in the svg vector graphics file format.\n\nlibrary(ggplot2)\nggplot(pressure, aes(x = temperature, y = pressure)) + geom_point()"
  },
  {
    "objectID": "posts/2023-12-20-examples/examples.html#figure-sizing",
    "href": "posts/2023-12-20-examples/examples.html#figure-sizing",
    "title": "Examples",
    "section": "",
    "text": "Here are some examples of changing the size of a figure.\n\nplot(1:10)\n\n\n\n\n\n\n\n\n\nplot(1:10)\n\n\n\n\n\n\n\n\nWe can also specify column: screen and out-width: 100% so that the figure will fill the screen. plot in the svg vector graphics file format.\n\nlibrary(ggplot2)\nggplot(pressure, aes(x = temperature, y = pressure)) + geom_point()"
  },
  {
    "objectID": "posts/2025-03-31-blog-post-4/blog-post-4.html",
    "href": "posts/2025-03-31-blog-post-4/blog-post-4.html",
    "title": "Blog Post 4",
    "section": "",
    "text": "In our ongoing exploration of the data, we have identified several clear trends, such as the variation in bullying rates across states for different demographic groups. One question we want to address next is whether these trends are primarily driven by the prevalence of certain racial, religious, or gender groups within each state, or whether other underlying factors also play significant roles. We plan to normalize reported harassment rates by each group’s population size in that state, thereby distinguishing true disparities from simple differences in group size. We also intend to create side-by-side visualizations comparing bullying incidents with school support resources—like security personnel, counselors, and social workers—to see if and how these resources might affect bullying outcomes.\nWe will try to compare staffing ratios: calculate ratios such as the number of students per counselor or security guard and visualize differences in resource allocation using bar charts or heat maps (highlight states with high rates of bullying and inadequate allocation of support staff).\nLinking bullying to support staff. We sought to analyze the association between the presence of different types of support staff(counselors, security guards, nurses, etc) and reported rates of bullying. For example, we believe that schools with more counselors had lower rates of bullying, showing that counseling efforts are effective in preventing such incidents. To begin approaching this comparison, we created a state-level chart showing the average number of harassment allegations per school. This visualization allows us to normalize incident counts across states and better compare the burden faced by individual schools. States like Utah, Illinois, and Washington stand out with significantly higher per-school allegations. This chart sets the stage for deeper analysis, where we plan to examine whether such rates correlate with a lack (or presence) of specific support staff. Drawing these connections may help identify which staffing patterns are most effective at reducing incidents.\nAs for modeling, we are considering a logistic regression approach that treats bullying incidents as the outcome variable, incorporating demographic proportions, resource availability, and potential interactions as predictors. We may also explore more flexible methods—such as random forests—if we suspect more complex or nonlinear relationships. In the coming week, our goal is to finalize which transformations are necessary, experiment with different model types, and assess model performance. By doing so, we hope to gain a clearer picture of which factors truly drive the observed patterns and how schools might leverage this information to improve student well-being. Below is graph the Heat map for total number of harassment by states(We’ll do the same for staff ratio after collecting data of total number of students in each school)"
  },
  {
    "objectID": "posts/2025-04-22-blogpost-7/blogpost7.html",
    "href": "posts/2025-04-22-blogpost-7/blogpost7.html",
    "title": "Blog Post 7",
    "section": "",
    "text": "This week, we focused on laying the foundation for the interactive visualizations that will be central to our final project. Our goal is to create a Shiny-based web app that allows users to explore patterns in school-based harassment and bullying allegations across the United States, broken down by identity categories such as sexual orientation, race, and religion.\nWhile we haven’t completed the graphs yet, we’ve developed the core logic and structure of the app and have a clear plan for how the interactive components will function."
  },
  {
    "objectID": "posts/2025-04-22-blogpost-7/blogpost7.html#blog-post-7",
    "href": "posts/2025-04-22-blogpost-7/blogpost7.html#blog-post-7",
    "title": "Blog Post 7",
    "section": "",
    "text": "This week, we focused on laying the foundation for the interactive visualizations that will be central to our final project. Our goal is to create a Shiny-based web app that allows users to explore patterns in school-based harassment and bullying allegations across the United States, broken down by identity categories such as sexual orientation, race, and religion.\nWhile we haven’t completed the graphs yet, we’ve developed the core logic and structure of the app and have a clear plan for how the interactive components will function."
  },
  {
    "objectID": "posts/2025-04-22-blogpost-7/blogpost7.html#goals",
    "href": "posts/2025-04-22-blogpost-7/blogpost7.html#goals",
    "title": "Blog Post 7",
    "section": "🎯 Goals",
    "text": "🎯 Goals\n\n🌎 National Map Visualization\nUsers will be able to: - Select an allegation type from a dropdown menu (e.g., sexual orientation, race, religion) - View a map showing schools across the U.S., each represented by a circle - Circle size and color reflect the number of allegations per 100 students\n\n\n🏛 State-Level Bar Chart\nUsers will be able to: - Choose a specific state - View a bar chart showing the average rate of allegations per 100 students in that state - Data will be broken down by the three main categories (sexual orientation, race, religion)\nThis provides both national and regional insights."
  },
  {
    "objectID": "posts/2025-04-22-blogpost-7/blogpost7.html#design-intentions",
    "href": "posts/2025-04-22-blogpost-7/blogpost7.html#design-intentions",
    "title": "Blog Post 7",
    "section": "🎨 Design Intentions",
    "text": "🎨 Design Intentions\nWe’re designing the interactive to follow key principles of effective data visualization:\n\nBig Picture & Zoom-In:\nThe map gives a national overview, while the bar chart allows deeper state-level focus\nInteractivity:\nDropdown menus will let users guide their own exploration and switch views dynamically\nUser Guidance:\nClear labels, legends, and thoughtful layout will help users understand the graphs\nPotential for Personalization:\nAlthough not implemented yet, we’re considering allowing users to search by school or district to explore personally relevant data"
  },
  {
    "objectID": "posts/2025-04-22-blogpost-7/blogpost7.html#whats-next",
    "href": "posts/2025-04-22-blogpost-7/blogpost7.html#whats-next",
    "title": "Blog Post 7",
    "section": "🚧 What’s Next",
    "text": "🚧 What’s Next\n\nFinish building the dropdown logic for the map and bar chart\nNormalize allegations by school size\nBegin experimenting with {shinylive} for browser-based deployment\nConsider adding data table or district search box\n\nStay tuned for more updates next week!"
  },
  {
    "objectID": "posts/2025-02-28-blog-post-1/blog-post-1.html",
    "href": "posts/2025-02-28-blog-post-1/blog-post-1.html",
    "title": "Blog Post 1",
    "section": "",
    "text": "Original Data Source:\nThe datasets that we have chosen are Suspensions, School Support, and Harassment & Bullying. The datasets originate from the U.S. Department of Education’s Civil Rights Data Collection (CRDC) from the year 2021-2022, accessible at civilrightsdata.ed.gov. The CRDC collects information from public schools and school districts across the United States to monitor civil rights compliance and ensure equal educational opportunities.\nDataset 1: Suspensions.csv\nThis dataset specifically focuses on school suspensions, capturing disciplinary actions reported by various educational institutions. The data includes key identifiers such as state, district, and school names, along with detailed metrics on suspension incidents, disciplinary actions for students under IDEA (Individuals with Disabilities Education Act), and total days missed due to suspensions. The dataset is structured with 98,010 rows and 189 columns, indicating a vast amount of data covering multiple years and educational jurisdictions.\nThe data was originally collected for federal reporting and policy-making to identify disparities in disciplinary actions across different demographics, such as race, gender, and disability status. Schools are required to report disciplinary statistics to the CRDC, which is then used to inform research, educational reforms, and civil rights enforcement. However, challenges arise due to missing or inconsistent values, such as placeholder values like -9, which indicate missing or N/A data. Additionally, some columns contain mixed data types, requiring standardization for proper analysis. The primary questions that can be explored with this dataset include: which states or districts have the highest suspension rates, and whether certain demographic groups face disproportionate disciplinary actions. The size and complexity of the dataset make it essential to clean and preprocess the data before drawing meaningful conclusions. Potential challenges include handling data inconsistencies, ensuring comparability across districts, and dealing with missing or erroneous records.\nDataset 2: School_Support.csv\nThis dataset includes a total of 19 columns across 98010 entries. It provides an overview of the staffing resources in schools in each state of the United States, including security personnel, teaching fellows (both certified and uncertified), and various support services such as counselors, nurses, psychologists, and social workers. The data includes specific schools and justice agencies, indicating that diverse educational environments have different educational support structures. Some columns (such as TOT_TEACHERS_CURR_M and TOT_TEACHERS_CURR_F) contain negative values, which indicates missing data or recording errors. The number of resources and personnel allocated to school highlights the support and help provided by different agencies and organizations to students and also shows the attention and emphasis on specialized educational environments. Some questions that we can come up with using this dataset include: How does the staffing of school security personnel vary across states and regions? What is the ratio of counselors, nurses, and psychologists to students in different schools? Does school resource allocation vary by location or regional funding level?\nDataset 3: Harassment_and_Bullying.csv\nThis dataset primarily focuses on harassment and bullying incidents reported in educational institutions,capturing various forms of misconduct and disciplinary actions. It includeskey variables such as state, district, school names, student demographics and so on. The dataset contains 98,010 rows and 159 columns, making it a large dataset with detailed information on bullying and harassment incidents in schools across different states.\nThe dataset is coming from CRDC, it gathers key civil rights metrics to assess access to and obstacles in educational opportunities from early childhood through grade 12. The Office for Civil Rights (OCR) utilizes this data from public school districts to investigate discrimination complaints, evaluate compliance with federal civil rights laws, conduct proactive reviews, and offer policy guidance and technical support to schools and districts.\nPotential areas of investigation include identifying regions with the highest bullying reports, examining patterns of disciplinary actions, and evaluating disparities among student groups.\nThe biggest challenge for this dataset is to organize and clean the format of it, as The dataset is structured in a wide format, where multiple columns represent similar variables. Also, there are many columns containing only 0s, indicating that some schools never reported incidents"
  },
  {
    "objectID": "posts/2024-10-04-general-tips/general-tips.html",
    "href": "posts/2024-10-04-general-tips/general-tips.html",
    "title": "General Tips",
    "section": "",
    "text": "Use the tidyverse!\nYou don’t have to tell me what kind of chart something is. For example, the below is not a useful start to a sentence.\n\n\nThe graph presents a horizontal bar chart …\n\n\nEach page should be largely standalone.\nSometimes small tables or even inline numbers are better than a figure.\nRedundant colors (e.g. bar charts where each bar is a different color that doesn’t signify anything) often don’t help.\nProvide some details on how much data was removed in your cleaning process.\nUse the tidyverse!\nImagine I’m an impatient boss. Show me only what is important and relevant.\nCleaning must be entirely in R\nDon’t say things like, well if only everyone did like so and so than everything would be better. There are many things hiding behind the data that would go to explain things. This is an example of a bad conclusion.\n\n\nThe world could benefit form modeling its education systems after Europe’s.\n\nIt is fine to talk about how the European system is better according to certain metrics, but don’t assume that can easily translate to other regions.\n\nDon’t talk about your “journey”. The blog posts tell the story of your journey. The main pages should focus on the data and your findings.\n\n\nUse the tidyverse!\nNo but seriously, when asking ChatGPT to do your project for you, make sure to tell it to use the tidyverse, not base R."
  },
  {
    "objectID": "posts/2023-10-15-getting-started/getting-started.html",
    "href": "posts/2023-10-15-getting-started/getting-started.html",
    "title": "Getting started",
    "section": "",
    "text": "Below, the items marked with [[OP]] should only be done by one person on the team.\n\nTo get started\n\n[[OP]] One person from the team should click the Github Classroom link on Teams.\n[[OP]] That person types in the group name for their group.\nThe rest of the team now clicks the Github Classroom link and selects their team from the dropdown list.\nFinally, each of you can clone the repository to your laptop like a normal assignment.\n\n\n\nSetting up the site\n\n[[OP]] Open the terminal and run quarto publish gh-pages.\n[[OP]] Select Yes to the prompt:  ? Publish site to https://sussmanbu.github.io/ma4615-fa23-final-project-TEAMNAME/ using gh-pages? (Y/n)\n[[OP]] Wait for the process to finish.\nOnce it is done, you can go to the URL it asked you about to see your site.\n\nNote: This is the process you will use every time you want to update your published site. Make sure to always follow the steps below for rendering, previewing, and committing your changes before doing these publish steps. Anyone can publish in the future.\n\n\nCustomize your site\n\n[[OP]] Open the _quarto.yml file and update the title to include your team name.\n[[OP]] Go to the about.qmd and remove the TF’s and professor’s names.\nadd your own along with a short introduction and a link to your Github user page.\n[[OP]] Render the site.\n[[OP]] Check and make sure you didn’t get any errors.\n[[OP]] Commit your changes and push.\n[[OP]] Repeat the steps under Setting up your site.\n\nOnce one person is done with this, each teammate in the group can, in turn, repeat steps 3-7. Before doing so, make sure to pull the changes from teammates before starting to make new changes. (We’ll talk soon about ways to organize your work and resolve conflicts.)\n\n\nStart your first post\n\nTo start your first post first, run remotes::install_github(\"sussmanbu/quartopost\") in your Console.\n[[OP]] Run quartopost::quartopost() (or click Addins-&gt;Create Quarto Post, or use C-Shift-P, type “Create Quarto” and press enter to run the command).\n\nNow you can start working on your post. You’ll want to render your post to see what it will look like on the site.\n\nEvery time you want to make a new post, you can repeat step 2 above.\nWhen you want to publish your progress, follow steps 4-7 from Customize your site.\n\nFinally, make sure to read through everything on this site which has the directions and rubric for the final project."
  },
  {
    "objectID": "posts/2025-03-18-blog-post-2/blog-post-2.html",
    "href": "posts/2025-03-18-blog-post-2/blog-post-2.html",
    "title": "Blog Post 2",
    "section": "",
    "text": "Data Background\nThe Civil Rights Data Collection (CRDC) data we chose comes from public schools and school districts across the United States, collected by the U.S. Department of Education’s Office for Civil Rights (OCR). It is gathered to monitor educational access and equity, ensuring compliance with federal civil rights laws. The data is publicly available on the CRDCwebsite, allowing access to the original source. However, potential issues include self-reported data inaccuracies, missing responses, and reporting inconsistencies across districts. The sample population includes all U.S. public schools, but biases may arise from underreporting, data misclassification, or non-standardized responses. This data is widely used for research on disparities in school discipline, advanced coursework access, and special education services, informing policy decisions on educational equity and civil rights enforcement. Several studies have examined this data to analyze racial disparities, resource allocation, and systemic inequalities, raising questions about data reliability, completeness, and the effectiveness of civil rights enforcement based on these reports.\nData Loading and Cleaning\nWe cleaned the dataset that the column name has “SCH_”by removing SCH_H from all the columns and pushed it onto Github. Also, since the column names aren’t intuitive, we want to use the appendix and column definitions provided in it, to create some pattern or new way of naming columns so they’re easier to understand. We added a “cleaned.dataset.ds” into the dataset file.\nWe are going to remove the missing values for the following criteria. \nThere are 6710 rows in the dataset that contain any of the specified reserve code values (-3,-4,-5,-6,-9,-12,-13).\nData for Equity\nWhen analyzing the Harassment and Bullying dataset, it is essential to uphold equity principles to ensure responsible and ethical data use. Transparency and accountability require clearly documenting data sources, acknowledging limitations, and preventing misrepresentation. Contextualization and responsible communication emphasize understanding differences in reporting practices across schools to avoid misleading comparisons. Lastly, avoiding harm and misuse means disaggregating data thoughtfully to highlight disparities without reinforcing stereotypes and ensuring findings support positive, data-driven interventions rather than punitive measures. By applying these principles, we can produce insights that are fair, meaningful, and beneficial for educators, policymakers, and students."
  },
  {
    "objectID": "posts/2023-10-13-first-team-meeting/first-team-meeting.html",
    "href": "posts/2023-10-13-first-team-meeting/first-team-meeting.html",
    "title": "First Team Meeting",
    "section": "",
    "text": "These are the steps that you will take today to get started on your project. Today, you will just be brainstorming, and then next week, you’ll get started on the main aspects of the project.\n\nStart by introducing yourselves to each other. I also recommend creating a private channel on Microsoft Teams with all your team members. This will be a place that you can communicate and share ideas, code, problems, etc.\nDiscuss what aspects of the project each of you are more or less excited about. These include\n\nCollecting, cleaning, and munging data ,\nStatistical Modeling,\nVisualization,\nWriting about analyses, and\nManaging and reviewing team work.\n\nBased on this, discuss where you feel your strengths and weaknesses might be.\nNext, start brainstorming questions you hope to answer as part of this project. This question should in some way be addressing issues around racial disparities. The questions you come up with should be at the level of the question we started with when exploring the HMDA data. (“Are there differences in the ease of securing a loan based on the race of the applicant?”) You’ll revise your questions a lot over the course of the project. Come up with a few questions that your group might be interested in exploring.\nBased on these questions, start looking around for data that might help you analyze this. If you are looking at U.S. based data, data.gov is a good source and if you are looking internationally, I recommend checking out the World Bank. Also, try Googling for data. Include “data set” or “dataset” in your query. You might even include “CSV” or some other format. Using “data” by itself in your query often doesn’t work too well. Spend some time searching for data and try to come up with at least three possible data sets. (For your first blog post, you’ll write short proposals about each of them that I’ll give feedback on.)\nCome up with a team name. Next week, I’ll provide the Github Classroom assignment that will be where you work on your final project and you’ll have to have your team name finalized by then. Your project will be hosted online at the website with a URL like sussmanbu.github.io/ma4615-fa23-final-project-TEAMNAME.\n\nNext time, you’ll get your final project website set up and write your first blog post."
  },
  {
    "objectID": "posts/2025-04-07-blogpost5/blogpost5.html",
    "href": "posts/2025-04-07-blogpost5/blogpost5.html",
    "title": "Blog-post-5",
    "section": "",
    "text": "This week, we worked on expanding our analysis of school-based harassment and bullying allegations. Our focus was on understanding geographic variation across the United States and identifying which types of allegations are most common in different areas when normalized for school size.\nWe also began the process of combining multiple datasets to deepen our analysis. Specifically, we joined together student enrollment data with harassment and bullying allegations data, using school ID (SCHID) as a common key."
  },
  {
    "objectID": "posts/2025-04-07-blogpost5/blogpost5.html#introduction",
    "href": "posts/2025-04-07-blogpost5/blogpost5.html#introduction",
    "title": "Blog-post-5",
    "section": "",
    "text": "This week, we worked on expanding our analysis of school-based harassment and bullying allegations. Our focus was on understanding geographic variation across the United States and identifying which types of allegations are most common in different areas when normalized for school size.\nWe also began the process of combining multiple datasets to deepen our analysis. Specifically, we joined together student enrollment data with harassment and bullying allegations data, using school ID (SCHID) as a common key."
  },
  {
    "objectID": "posts/2025-04-07-blogpost5/blogpost5.html#datasets-and-merging-process",
    "href": "posts/2025-04-07-blogpost5/blogpost5.html#datasets-and-merging-process",
    "title": "Blog-post-5",
    "section": "2 Datasets and Merging Process",
    "text": "2 Datasets and Merging Process\nWe are combining two main datasets:\n\nEnrollment data – which includes the number of students enrolled in each school, broken down by race, gender, and demographic categories (e.g., EL, IDEA).\nHarassment and bullying allegations data – which includes counts of allegations by type (e.g., sex-based, religion-based, etc.) at the school level.\n\nThese datasets were joined using the SCHID column, which uniquely identifies each school. After cleaning (removing negative values, summing rows, and normalizing counts), we calculated the number of allegations per 100 students for each school and then aggregated them to the state level.\nThe goal was to create normalized state-level comparisons to account for differences in population size.\n\n2.1 Challenges\nWhile the join between the datasets was successful, we encountered a few key issues:\n\nSome SCHIDs existed in the enrollment file but not in the allegations file (and vice versa).\nStates such as Montana, Idaho, and Nevada were initially missing from maps due to unmatched or filtered out data.\nWe needed to perform a left_join instead of an inner_join to preserve all schools and treat missing allegations as zeros.\n\nWe resolved this by carefully tracking which states and schools were being dropped and ensuring a complete join structure by using replace_na()."
  },
  {
    "objectID": "posts/2025-04-07-blogpost5/blogpost5.html#maps-by-allegation-type",
    "href": "posts/2025-04-07-blogpost5/blogpost5.html#maps-by-allegation-type",
    "title": "Blog-post-5",
    "section": "3 Maps by Allegation Type",
    "text": "3 Maps by Allegation Type\nTo investigate patterns more deeply, we created choropleth maps of the United States for each major category of harassment. These maps visualize the number of allegations per 100 students by state."
  },
  {
    "objectID": "posts/2025-04-07-blogpost5/blogpost5.html#sexual-orientation-based-allegations",
    "href": "posts/2025-04-07-blogpost5/blogpost5.html#sexual-orientation-based-allegations",
    "title": "Blog-post-5",
    "section": "4 Sexual Orientation-Based Allegations",
    "text": "4 Sexual Orientation-Based Allegations\nThis map shows the normalized rate of allegations based on sexual orientation.\n\nMassachusetts, New York, and New Jersey all had high rates.\nThe northwest region showed very few or no reported cases.\n\n\n\n\nSexual Orientation-Based Allegations"
  },
  {
    "objectID": "posts/2025-04-07-blogpost5/blogpost5.html#religion-based-allegations",
    "href": "posts/2025-04-07-blogpost5/blogpost5.html#religion-based-allegations",
    "title": "Blog-post-5",
    "section": "5 Religion-Based Allegations",
    "text": "5 Religion-Based Allegations\nThis map highlights religion-based harassment allegations.\n\nWhile overall rates were lower compared to other categories, Massachusetts again stands out.\nStates like Utah and Idaho had zero or near-zero cases.\n\n\n\n\nReligion-Based Allegations"
  },
  {
    "objectID": "posts/2025-04-07-blogpost5/blogpost5.html#racecolornational-origin-allegations",
    "href": "posts/2025-04-07-blogpost5/blogpost5.html#racecolornational-origin-allegations",
    "title": "Blog-post-5",
    "section": "6 Race/Color/National Origin Allegations",
    "text": "6 Race/Color/National Origin Allegations\nThis map displays allegations of harassment due to race, color, or national origin.\n\nMassachusetts once again leads, followed closely by New York and California.\nThe southeast and parts of the northwest had lower reported rates.\n\n\n\n\nRace-Based Allegations"
  },
  {
    "objectID": "posts/2025-04-07-blogpost5/blogpost5.html#disability-based-allegations",
    "href": "posts/2025-04-07-blogpost5/blogpost5.html#disability-based-allegations",
    "title": "Blog-post-5",
    "section": "7 Disability-Based Allegations",
    "text": "7 Disability-Based Allegations\nThis map highlights harassment allegations reported by students with disabilities.\n\nMassachusetts has the highest rate, continuing the trend.\nWe noticed more variation across states in this category compared to religion-based or sexual orientation-based allegations.\n\n\n\n\nDisability-Based Allegations"
  },
  {
    "objectID": "posts/2025-04-07-blogpost5/blogpost5.html#key-takeaways",
    "href": "posts/2025-04-07-blogpost5/blogpost5.html#key-takeaways",
    "title": "Blog-post-5",
    "section": "8 Key Takeaways",
    "text": "8 Key Takeaways\nFrom our maps, we noticed several trends:\n\nMassachusetts consistently reports high normalized allegation rates across all categories.\nThe Northwest (e.g., Montana, Idaho, Wyoming) tends to report few or no allegations.\nSome categories like religion-based harassment had lower rates nationwide, potentially due to underreporting or smaller affected populations."
  },
  {
    "objectID": "posts/2025-04-07-blogpost5/blogpost5.html#focusing-on-massachusetts",
    "href": "posts/2025-04-07-blogpost5/blogpost5.html#focusing-on-massachusetts",
    "title": "Blog-post-5",
    "section": "9 Focusing on Massachusetts",
    "text": "9 Focusing on Massachusetts\nBecause Massachusetts ranks the highest across multiple allegation types, we plan to narrow our focus to this state in the coming weeks. This will allow us to explore trends at the district or school level and potentially bring in other data such as:\n\nDemographics (e.g., income, race/ethnicity, urban/rural classification)\nSchool resources (e.g., staff-to-student ratios, counselor availability)\nCommunity characteristics"
  },
  {
    "objectID": "posts/2025-04-07-blogpost5/blogpost5.html#next-steps",
    "href": "posts/2025-04-07-blogpost5/blogpost5.html#next-steps",
    "title": "Blog-post-5",
    "section": "10 Next Steps",
    "text": "10 Next Steps\nFor the next phase of this project, we plan to:\n\nFurther explore school-level trends within Massachusetts\nInvestigate whether specific schools or districts are driving the state’s high rates\nLook for additional datasets that we can combine, such as:\n\nPublic school performance data\nCensus-based community demographics\nSchool funding or resource availability\n\n\nBy integrating these, we hope to better understand what underlying factors may be contributing to Massachusetts’s higher rates — whether it’s reporting culture, student population, or other institutional variables."
  },
  {
    "objectID": "posts/2025-04-14-blogpost-6/blogpost-6.html",
    "href": "posts/2025-04-14-blogpost-6/blogpost-6.html",
    "title": "Blogpost 6",
    "section": "",
    "text": "We conducted a log-transformed linear regression to explore this question. Key results are visualized below:\n\n\n\nCorrelation of Staff and Allegations\n\n\nOnly SCH_FTECOUNSELORS showed a significant effect — but in the opposite direction than expected. Each additional counselor is associated with a 9.86% increase in the reported harassment & bullying rate per 100 students (on a log scale).\nPsychologists and security guards did not show statistically significant effects.\n\nThis unexpected result might be due to heteroscedasticity, as shown in the QQ-plot below:\n\n\n\n\nQQ Plot"
  },
  {
    "objectID": "posts/2025-04-14-blogpost-6/blogpost-6.html#correlate-with-school-support-data",
    "href": "posts/2025-04-14-blogpost-6/blogpost-6.html#correlate-with-school-support-data",
    "title": "Blogpost 6",
    "section": "",
    "text": "We conducted a log-transformed linear regression to explore this question. Key results are visualized below:\n\n\n\nCorrelation of Staff and Allegations\n\n\nOnly SCH_FTECOUNSELORS showed a significant effect — but in the opposite direction than expected. Each additional counselor is associated with a 9.86% increase in the reported harassment & bullying rate per 100 students (on a log scale).\nPsychologists and security guards did not show statistically significant effects.\n\nThis unexpected result might be due to heteroscedasticity, as shown in the QQ-plot below:\n\n\n\n\nQQ Plot"
  },
  {
    "objectID": "posts/2025-04-14-blogpost-6/blogpost-6.html#compare-demographics",
    "href": "posts/2025-04-14-blogpost-6/blogpost-6.html#compare-demographics",
    "title": "Blogpost 6",
    "section": "Compare Demographics",
    "text": "Compare Demographics\n\nAre schools with higher percentages of vulnerable student groups (e.g., LGBTQ+, students with disabilities, etc.) more likely to have higher rates?\n\n\n\nDisability Correlation Plot\n\n\n\n0.166 indicates a weak positive association between the percentage of students with disabilities and allegation rates.\n0.126 shows a similar weak association for English learners.\n\n\n\n\nAllegations vs Disability Percentage\n\n\nThis plot shows a positive linear trend: as the percentage of students with disabilities increases, the allegations per 100 students also tend to increase.\nThere is an outlier—two schools with very high disability percentages and very high allegation rates (nearly 100%).\n\n\nCan I normalize within demographic groups to explore equity more deeply?\n\n\n\nNormalized Allegation Rates by Group\n\n\nBased on the above plot, we conclude that students with disabilities may be experiencing higher rates of allegations in schools where they are a larger proportion of the population."
  },
  {
    "objectID": "posts/2025-04-14-blogpost-6/blogpost-6.html#code-summary",
    "href": "posts/2025-04-14-blogpost-6/blogpost-6.html#code-summary",
    "title": "Blogpost 6",
    "section": "Code Summary",
    "text": "Code Summary\nThe core logic this week included:\n\nCleaning and transforming allegation counts\n\nJoining with total student enrollment\n\nCalculating per-100-student rates\n\nMapping with ggplot2 and map_data(\"state\")\n\nBuilding a reusable function for category-specific maps"
  },
  {
    "objectID": "posts/2025-04-30-blog-post-8/blog-post-8.html",
    "href": "posts/2025-04-30-blog-post-8/blog-post-8.html",
    "title": "Blog Post 8",
    "section": "",
    "text": "We are continuing our exploratory data analysis by organizing our results at both the national and state levels to identify broader trends as well as regional differences. In addition, we are planning to incorporate data on student suspensions to provide a deeper perspective on school climate and disciplinary practices, which may help contextualize other educational outcomes in our dataset. This added layer of analysis aims to uncover new patterns and strengthen the foundation for our final thesis."
  },
  {
    "objectID": "posts/2025-04-30-blog-post-8/blog-post-8.html#how-we-are-continuing-our-eda",
    "href": "posts/2025-04-30-blog-post-8/blog-post-8.html#how-we-are-continuing-our-eda",
    "title": "Blog Post 8",
    "section": "",
    "text": "We are continuing our exploratory data analysis by organizing our results at both the national and state levels to identify broader trends as well as regional differences. In addition, we are planning to incorporate data on student suspensions to provide a deeper perspective on school climate and disciplinary practices, which may help contextualize other educational outcomes in our dataset. This added layer of analysis aims to uncover new patterns and strengthen the foundation for our final thesis."
  },
  {
    "objectID": "posts/2025-04-30-blog-post-8/blog-post-8.html#thesis",
    "href": "posts/2025-04-30-blog-post-8/blog-post-8.html#thesis",
    "title": "Blog Post 8",
    "section": "Thesis:",
    "text": "Thesis:\nRacially-based harassment in U.S. schools remains persistently high across all states, highlighting a nationwide equity challenge in educational environments. However, our analysis reveals a consistent inverse relationship between the level of school-based support—such as counselors, psychologists, and security staff—and the frequency of race-related harassment incidents. These findings suggest that strengthening student support infrastructure may play a critical role in reducing race-based harassment and fostering safer, more inclusive learning environments. \nTo explore the relationship between school support staffing and reported harassment, we constructed a log-log regression model using total school support (sum of counselors, psychologists, and security guards) and reported harassment allegations per 100 enrolled students. The resulting regression line (𝑦 = −0.331 − 0.401𝑥) indicated a negative association, with an R² of 0.11, suggesting that higher levels of student support staff are weakly but significantly associated with lower harassment rates. While the model explains only a modest portion of the variance, this trend aligns with theories that greater support infrastructure may contribute to safer school climates. Nonetheless, causality cannot be inferred due to the observational nature of the data."
  },
  {
    "objectID": "posts/2025-04-30-blog-post-8/blog-post-8.html#how-we-are-planning-to-polish-our-visualizations",
    "href": "posts/2025-04-30-blog-post-8/blog-post-8.html#how-we-are-planning-to-polish-our-visualizations",
    "title": "Blog Post 8",
    "section": "How we are planning to polish our visualizations:",
    "text": "How we are planning to polish our visualizations:\nTo polish our visualizations, we plan to use the ggpubr package to enhance our visualizations by adding informative titles, clear axis labels, and publication-ready themes. We’ll also incorporate statistical annotations (e.g., significance stars) and customized color palettes to make the plots more interpretable and visually appealing. This will help effectively communicate key patterns and support our thesis.\nWe are also planning to use the gt package to create clean, well-formatted tables that clearly present our summary statistics and model results. This will include adding descriptive titles, column labels, and footnotes where needed. We are also planning to apply formatting features like bold text, color coding, and number precision to highlight key values and improve readability."
  },
  {
    "objectID": "posts/2025-03-24-blogpost3/blogpost3.html",
    "href": "posts/2025-03-24-blogpost3/blogpost3.html",
    "title": "Blog-post-3",
    "section": "",
    "text": "This week, we decided to do some data exploration on our dataset in order to understand and visualize some patterns. We looked at various factors such as religion, race, orientation, and sex, and plotted the number of harassment and bullying cases across all schools available in the dataset.\nThese plots will give us insight into which groups are facing discrimination more than others, and help us identify patterns to focus on for the final version of the project."
  },
  {
    "objectID": "posts/2025-03-24-blogpost3/blogpost3.html#introduction",
    "href": "posts/2025-03-24-blogpost3/blogpost3.html#introduction",
    "title": "Blog-post-3",
    "section": "",
    "text": "This week, we decided to do some data exploration on our dataset in order to understand and visualize some patterns. We looked at various factors such as religion, race, orientation, and sex, and plotted the number of harassment and bullying cases across all schools available in the dataset.\nThese plots will give us insight into which groups are facing discrimination more than others, and help us identify patterns to focus on for the final version of the project."
  },
  {
    "objectID": "posts/2025-03-24-blogpost3/blogpost3.html#religion",
    "href": "posts/2025-03-24-blogpost3/blogpost3.html#religion",
    "title": "Blog-post-3",
    "section": "2 Religion",
    "text": "2 Religion\nThis plot shows the amount of harassment and bullying cases reported by religion.\n\nThe most reports were by Jewish children, followed by Muslim children.\nA low number of allegations against Buddhist children reflects a smaller population size.\n\n\n\n\nReligion-based Allegations"
  },
  {
    "objectID": "posts/2025-03-24-blogpost3/blogpost3.html#sex",
    "href": "posts/2025-03-24-blogpost3/blogpost3.html#sex",
    "title": "Blog-post-3",
    "section": "3 Sex",
    "text": "3 Sex\nFor this graph, we looked at sex-based allegations by schools to find concerning trends.\n\nDekalb High School had significantly more cases than any other school — nearly three times as many.\n\n\n\n\nSex-based Allegations"
  },
  {
    "objectID": "posts/2025-03-24-blogpost3/blogpost3.html#disabilities",
    "href": "posts/2025-03-24-blogpost3/blogpost3.html#disabilities",
    "title": "Blog-post-3",
    "section": "4 Disabilities",
    "text": "4 Disabilities\nThis bar chart shows the number of students reported as harassed or bullied due to disability, broken down by student group and gender.\n\nWhite and IDEA male students had the highest number of reported cases.\nAcross all groups, males reported more harassment than females.\n\n\n\n\nDisability-based Allegations"
  },
  {
    "objectID": "posts/2025-03-24-blogpost3/blogpost3.html#state",
    "href": "posts/2025-03-24-blogpost3/blogpost3.html#state",
    "title": "Blog-post-3",
    "section": "5 State",
    "text": "5 State\nThis plot shows the total number of harassment and bullying allegations in each state.\n\nNew York had the highest total.\nThis might reflect better reporting mechanisms, higher diversity, or actual higher incident rates.\n\n\n\n\nState-level Allegations"
  },
  {
    "objectID": "posts/2025-03-24-blogpost3/blogpost3.html#conclusion",
    "href": "posts/2025-03-24-blogpost3/blogpost3.html#conclusion",
    "title": "Blog-post-3",
    "section": "6 Conclusion",
    "text": "6 Conclusion\nMoving forward, we would like to focus on one or more of these factors (race, religion, sex, orientation) in more depth. We plan to look at statewide discrepancies and highlight significant extremities where certain groups are disproportionately targeted."
  },
  {
    "objectID": "index.html",
    "href": "index.html",
    "title": "MA [46]15 Final Project",
    "section": "",
    "text": "Final Project due May 5, 2024 at 11:59pm.\nThis comes from the index.qmd file.\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nBlog Post 8\n\n\n\n\n\n\n\n\n\n\n\nApr 30, 2025\n\n\n\n\n\n\n\n\n\n\n\n\nBlog Post 7\n\n\n\n\n\n\nprogress\n\n\ninteractive\n\n\nproject\n\n\n\n\n\n\n\n\n\nApr 22, 2025\n\n\nYour Name\n\n\n\n\n\n\n\n\n\n\n\n\nBlogpost 6\n\n\n\n\n\n\n\n\n\n\n\nApr 14, 2025\n\n\n\n\n\n\n\n\n\n\n\n\nBlog-post-5\n\n\n\n\n\n\n\n\n\n\n\nApr 7, 2025\n\n\n\n\n\n\n\n\n\n\n\n\nBlog Post 4\n\n\n\n\n\n\n\n\n\n\n\nMar 31, 2025\n\n\nTeam 9\n\n\n\n\n\n\n\n\n\n\n\n\nBlog-post-3\n\n\n\n\n\n\n\n\n\n\n\nMar 24, 2025\n\n\n\n\n\n\n\n\n\n\n\n\nBlog Post 2\n\n\n\n\n\n\n\n\n\n\n\nMar 17, 2025\n\n\n\n\n\n\n\n\n\n\n\n\nBlog Post 1\n\n\n\n\n\nDataset Proposals \n\n\n\n\n\nFeb 28, 2025\n\n\nTeam 9\n\n\n\n\n\n\n\n\n\n\n\n\nGeneral Tips\n\n\n\n\n\nSome small but important tips to follow. \n\n\n\n\n\nOct 4, 2024\n\n\nDaniel Sussman\n\n\n\n\n\n\n\n\n\n\n\n\nExamples\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nFeb 26, 2024\n\n\nDaniel Sussman\n\n\n\n\n\n\n\n\n\n\n\n\nGetting started\n\n\n\n\n\n\n\n\nDirections to set up your website and create your first post. \n\n\n\n\n\nFeb 23, 2024\n\n\nDaniel Sussman\n\n\n\n\n\n\n\n\n\n\n\n\nFirst Team Meeting\n\n\n\n\n\n\n\n\nThis post details the steps you’ll take for your first team meeting. \n\n\n\n\n\nFeb 21, 2024\n\n\nDaniel Sussman\n\n\n\n\n\n\nNo matching items"
  },
  {
    "objectID": "analysis.html",
    "href": "analysis.html",
    "title": "Analysis",
    "section": "",
    "text": "This comes from the file analysis.qmd.\nWe describe here our detailed data analysis. This page will provide an overview of what questions you addressed, illustrations of relevant aspects of the data with tables and figures, and a statistical model that attempts to answer part of the question. You’ll also reflect on next steps and further analysis.\nThe audience for this page is someone like your class mates, so you can expect that they have some level of statistical and quantitative sophistication and understand ideas like linear and logistic regression, coefficients, confidence intervals, overfitting, etc.\nWhile the exact number of figures and tables will vary and depend on your analysis, you should target around 5 to 6. An overly long analysis could lead to losing points. If you want you can link back to your blog posts or create separate pages with more details.\nThe style of this paper should aim to be that of an academic paper. I don’t expect this to be of publication quality but you should keep that aim in mind. Avoid using “we” too frequently, for example “We also found that …”. Describe your methodology and your findings but don’t describe your whole process."
  },
  {
    "objectID": "analysis.html#note-on-attribution",
    "href": "analysis.html#note-on-attribution",
    "title": "Analysis",
    "section": "Note on Attribution",
    "text": "Note on Attribution\nIn general, you should try to provide links to relevant resources, especially those that helped you. You don’t have to link to every StackOverflow post you used but if there are explainers on aspects of the data or specific models that you found helpful, try to link to those. Also, try to link to other sources that might support (or refute) your analysis. These can just be regular hyperlinks. You don’t need a formal citation.\nIf you are directly quoting from a source, please make that clear. You can show long quotes using &gt; like this\n&gt; To be or not to be.\n\nTo be or not to be."
  },
  {
    "objectID": "analysis.html#rubric-on-this-page",
    "href": "analysis.html#rubric-on-this-page",
    "title": "Analysis",
    "section": "Rubric: On this page",
    "text": "Rubric: On this page\nYou will\n\nIntroduce what motivates your Data Analysis (DA)\n\nWhich variables and relationships are you most interested in?\nWhat questions are you interested in answering?\nProvide context for the rest of the page. This will include figures/tables that illustrate aspects of the data of your question.\n\nModeling and Inference\n\nThe page will include some kind of formal statistical model. This could be a linear regression, logistic regression, or another modeling framework.\nExplain the ideas and techniques you used to choose the predictors for your model. (Think about including interaction terms and other transformations of your variables.)\nDescribe the results of your modelling and make sure to give a sense of the uncertainty in your estimates and conclusions.\n\nExplain the flaws and limitations of your analysis\n\nAre there some assumptions that you needed to make that might not hold? Is there other data that would help to answer your questions?\n\nClarity Figures\n\nAre your figures/tables/results easy to read, informative, without problems like overplotting, hard-to-read labels, etc?\nEach figure should provide a key insight. Too many figures or other data summaries can detract from this. (While not a hard limit, around 5 total figures is probably a good target.)\nDefault lm output and plots are typically not acceptable.\n\nClarity of Explanations\n\nHow well do you explain each figure/result?\nDo you provide interpretations that suggest further analysis or explanations for observed phenomenon?\n\nOrganization and cleanliness.\n\nMake sure to remove excessive warnings, hide all code, organize with sections or multiple pages, use bullets, etc.\nThis page should be self-contained, i.e. provide a description of the relevant data."
  },
  {
    "objectID": "scripts/practice.html",
    "href": "scripts/practice.html",
    "title": "practice",
    "section": "",
    "text": "library(dplyr)\n\n\nAttaching package: 'dplyr'\n\n\nThe following objects are masked from 'package:stats':\n\n    filter, lag\n\n\nThe following objects are masked from 'package:base':\n\n    intersect, setdiff, setequal, union\n\nlibrary(tidyr)\nlibrary(ggplot2)\nlibrary(readr)\n\nsupport &lt;- read_csv(\"dataset/School Support.csv\")\n\nRows: 98010 Columns: 19\n\n\n── Column specification ────────────────────────────────────────────────────────\nDelimiter: \",\"\nchr  (8): LEA_STATE, LEA_STATE_NAME, LEAID, LEA_NAME, SCHID, SCH_NAME, COMBO...\ndbl (11): SCH_FTESECURITY_LEO, SCH_FTESECURITY_GUA, SCH_FTETEACH_TOT, SCH_FT...\n\nℹ Use `spec()` to retrieve the full column specification for this data.\nℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.\n\nharassment &lt;- read_csv(\"dataset/Harassment and Bullying.csv\")\n\nRows: 98010 Columns: 159\n── Column specification ────────────────────────────────────────────────────────\nDelimiter: \",\"\nchr   (8): LEA_STATE, LEA_STATE_NAME, LEAID, LEA_NAME, SCHID, SCH_NAME, COMB...\ndbl (151): SCH_HBALLEGATIONS_SEX, SCH_HBALLEGATIONS_ORI, SCH_HBALLEGATIONS_R...\n\nℹ Use `spec()` to retrieve the full column specification for this data.\nℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.\n\nenroll = read_csv(\"dataset/Enrollment.csv\")\n\nRows: 98010 Columns: 233\n── Column specification ────────────────────────────────────────────────────────\nDelimiter: \",\"\nchr   (8): LEA_STATE, LEA_STATE_NAME, LEAID, LEA_NAME, SCHID, SCH_NAME, COMB...\ndbl (225): SCH_ENR_HI_M, SCH_ENR_HI_F, SCH_ENR_HI_X, SCH_ENR_AM_M, SCH_ENR_A...\n\nℹ Use `spec()` to retrieve the full column specification for this data.\nℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.\n\nma_schools &lt;- enroll |&gt;\n  filter(LEA_STATE_NAME == \"MASSACHUSETTS\")\nmerged &lt;- ma_schools |&gt;\n  inner_join(harassment, by = \"COMBOKEY\") \nmerged &lt;- merged %&gt;%\n  mutate(\n    total_allegations = rowSums(select(., SCH_HBALLEGATIONS_SEX, SCH_HBALLEGATIONS_RAC, SCH_HBALLEGATIONS_DIS), na.rm = TRUE)\n  )\n\n# Calculate total enrollment\nmerged &lt;- merged %&gt;%\n  mutate(\n    total_enrollment = TOT_ENR_M + TOT_ENR_F + TOT_ENR_X,\n    allegations_per_100 = (total_allegations / total_enrollment) * 100\n  )\ntop_schools &lt;- merged %&gt;%\n  arrange(desc(allegations_per_100)) %&gt;%\n  select(SCH_NAME.x, LEA_NAME.x, allegations_per_100, total_enrollment, total_allegations) %&gt;%\n  head(10)\n\ntop_schools\n\n# A tibble: 10 × 5\n   SCH_NAME.x  LEA_NAME.x allegations_per_100 total_enrollment total_allegations\n   &lt;chr&gt;       &lt;chr&gt;                    &lt;dbl&gt;            &lt;dbl&gt;             &lt;dbl&gt;\n 1 Abington E… Abington                   100              -27               -27\n 2 Carol Hueb… Acton-Box…                 100              -27               -27\n 3 Agawam Ear… Agawam                     100              -27               -27\n 4 Shawsheen … Andover                    100              -27               -27\n 5 Menotomy P… Arlington                  100              -27               -27\n 6 William Pi… Ashland                    100              -27               -27\n 7 Early Lear… Attleboro                  100              -27               -27\n 8 Enoch Cobb… Barnstable                 100              -27               -27\n 9 Bellingham… Bellingham                 100              -27               -27\n10 McKeown Sc… Beverly                    100              -27               -27\n\n\n\nmerged &lt;- merged %&gt;%\n  mutate(\n    total_enrollment = TOT_ENR_M + TOT_ENR_F + TOT_ENR_X,\n    total_idea = TOT_IDEAENR_M + TOT_IDEAENR_F + TOT_IDEAENR_X,\n    total_504 = TOT_504ENR_M + TOT_504ENR_F + TOT_504ENR_X,\n    total_el = TOT_ELENR_M + TOT_ELENR_F + TOT_ELENR_X\n  )\nmerged &lt;- merged %&gt;%\n  mutate(\n    pct_disabilities = (total_idea + total_504) / total_enrollment,\n    pct_el = total_el / total_enrollment,\n    allegations_per_100 = (total_allegations / total_enrollment) * 100\n  )\ncorrelation_results &lt;- merged %&gt;%\n  summarise(\n    corr_pct_disabilities = cor(pct_disabilities, allegations_per_100, use = \"complete.obs\"),\n    corr_pct_el = cor(pct_el, allegations_per_100, use = \"complete.obs\")\n  )\n\ncorrelation_results\n\n# A tibble: 1 × 2\n  corr_pct_disabilities corr_pct_el\n                  &lt;dbl&gt;       &lt;dbl&gt;\n1                 0.166       0.126\n\nlibrary(ggplot2)\n\n# Disabilities\nggplot(merged, aes(x = pct_disabilities, y = allegations_per_100)) +\n  geom_point(alpha = 0.5) +\n  geom_smooth(method = \"lm\") +\n  labs(\n    title = \"Allegations per 100 Students vs. % with Disabilities\",\n    x = \"Percentage of Students with Disabilities\",\n    y = \"Allegations per 100 Students\"\n  )\n\n`geom_smooth()` using formula = 'y ~ x'\n\n\nWarning: Removed 1 row containing non-finite outside the scale range\n(`stat_smooth()`).\n\n\nWarning: Removed 1 row containing missing values or values outside the scale range\n(`geom_point()`).\n\n\n\n\n\n\n\n\nggplot(merged, aes(x = pct_el, y = allegations_per_100)) +\n  geom_point(alpha = 0.5) +\n  geom_smooth(method = \"lm\") +\n  labs(\n    title = \"Allegations per 100 Students vs. % English Learners\",\n    x = \"Percentage of English Learners\",\n    y = \"Allegations per 100 Students\"\n  )\n\n`geom_smooth()` using formula = 'y ~ x'\n\n\nWarning: Removed 1 row containing non-finite outside the scale range (`stat_smooth()`).\nRemoved 1 row containing missing values or values outside the scale range\n(`geom_point()`).\n\n\n\n\n\n\n\n\n\n\n# Total students with disabilities (IDEA + 504)\nmerged &lt;- merged %&gt;%\n  mutate(\n    total_disabilities = total_idea + total_504,\n    allegations_per_100_disabilities = (total_allegations / total_disabilities) * 100\n  )\nmerged &lt;- merged %&gt;%\n  mutate(\n    total_black = SCH_ENR_BL_M + SCH_ENR_BL_F + SCH_ENR_BL_X,\n    allegations_per_100_black = (total_allegations / total_black) * 100\n  )\nggplot(merged, aes(x = pct_disabilities, y = allegations_per_100_disabilities)) +\n  geom_point() +\n  geom_smooth(method = \"lm\")\n\n`geom_smooth()` using formula = 'y ~ x'\n\n\nWarning: Removed 7 rows containing non-finite outside the scale range\n(`stat_smooth()`).\n\n\nWarning: Removed 6 rows containing missing values or values outside the scale range\n(`geom_point()`)."
  },
  {
    "objectID": "scripts/column_transformation.html",
    "href": "scripts/column_transformation.html",
    "title": "Untitled",
    "section": "",
    "text": "library(tidyverse)\n\n── Attaching core tidyverse packages ──────────────────────── tidyverse 2.0.0 ──\n✔ dplyr     1.1.4     ✔ readr     2.1.5\n✔ forcats   1.0.0     ✔ stringr   1.5.1\n✔ ggplot2   3.5.1     ✔ tibble    3.2.1\n✔ lubridate 1.9.4     ✔ tidyr     1.3.1\n✔ purrr     1.0.2     \n── Conflicts ────────────────────────────────────────── tidyverse_conflicts() ──\n✖ dplyr::filter() masks stats::filter()\n✖ dplyr::lag()    masks stats::lag()\nℹ Use the conflicted package (&lt;http://conflicted.r-lib.org/&gt;) to force all conflicts to become errors\n\n\n\ndata &lt;- read_csv('dataset/Harassment and Bullying.csv')\n\nRows: 98010 Columns: 159\n── Column specification ────────────────────────────────────────────────────────\nDelimiter: \",\"\nchr   (8): LEA_STATE, LEA_STATE_NAME, LEAID, LEA_NAME, SCHID, SCH_NAME, COMB...\ndbl (151): SCH_HBALLEGATIONS_SEX, SCH_HBALLEGATIONS_ORI, SCH_HBALLEGATIONS_R...\n\nℹ Use `spec()` to retrieve the full column specification for this data.\nℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.\n\ndefinitions &lt;- read_csv('dataset/data_definitions.csv')\n\nNew names:\nRows: 2619 Columns: 12\n── Column specification\n──────────────────────────────────────────────────────── Delimiter: \",\" chr\n(11): Level, Module, CRDC Question/Table, Survey Question, Variable Name... lgl\n(1): ...12\nℹ Use `spec()` to retrieve the full column specification for this data. ℹ\nSpecify the column types or set `show_col_types = FALSE` to quiet this message.\n• `` -&gt; `...12`\n\n\nremove all rows that do not start with HIBS\n\ndefinitions &lt;- definitions %&gt;%\n  filter(grepl(\"^HIBS:\", Module))\n\nselect only variable name and survey question\n\ndefinitions &lt;- definitions %&gt;%\n  select(`Variable Name`, `Survey Question`)\n\npivot to join to data\n\n##data %&gt;%"
  },
  {
    "objectID": "scripts/total harassment by state.html",
    "href": "scripts/total harassment by state.html",
    "title": "abc",
    "section": "",
    "text": "dfdfdfd"
  },
  {
    "objectID": "scripts/Blog4 Charts.html",
    "href": "scripts/Blog4 Charts.html",
    "title": "Bullying Data Analysis",
    "section": "",
    "text": "Bullying Data Analysis\nlibrary(dplyr) # Read the bullying data bullying_data &lt;- read.csv(“dataset/clean_data file/Harassment_and_Bullying_clean.csv”, stringsAsFactors = FALSE)\n\n\nFilter and calculate total harassment & bullying incidents\nbullying_data_filtered &lt;- bullying_data %&gt;% filter( HBALLEGATIONS_SEX &gt; 0 | HBALLEGATIONS_ORI &gt; 0 | HBALLEGATIONS_RAC &gt; 0 | HBALLEGATIONS_DIS &gt; 0 | HBALLEGATIONS_REL &gt; 0 ) %&gt;% mutate( TOTAL_HARASSMENT_BULLYING = HBALLEGATIONS_SEX + HBALLEGATIONS_ORI + HBALLEGATIONS_RAC + HBALLEGATIONS_DIS + HBALLEGATIONS_REL )\n\n\nSummarise incidents by state\nbullying_by_state &lt;- bullying_data_filtered %&gt;% group_by(LEA_STATE) %&gt;% summarise( total_bullying = sum(TOTAL_HARASSMENT_BULLYING, na.rm = TRUE) ) %&gt;% arrange(desc(total_bullying))\nlibrary(ggplot2) # Create a bar chart for bullying incidents by state ggplot(bullying_by_state, aes(x = reorder(LEA_STATE, total_bullying), y = total_bullying)) + geom_bar(stat = “identity”, fill = “purple”) + coord_flip() + labs( title = “Total Harassment & Bullying Incidents by State”, x = “State”, y = “Total Incidents” ) + theme_minimal()\n\n\nRename column for mapping\nbullying_by_state &lt;- bullying_by_state %&gt;% rename(state = LEA_STATE)\n\n\nMapping the bullying incidents by state\ninstall.packages(“usmap”) install.packages(“viridis”) library(usmap) library(viridis) plot_usmap(data = bullying_by_state, values = “total_bullying”, regions = “states”) + scale_fill_viridis(name = “Total Incidents”, option = “C”) + labs(title = “Total Harassment & Bullying Incidents by State”) + theme(legend.position = “right”)"
  },
  {
    "objectID": "scripts/BlogPost8 Regression Line.html",
    "href": "scripts/BlogPost8 Regression Line.html",
    "title": "MA [46]15 Final Project TEAM 9",
    "section": "",
    "text": "library(highcharter)\n\nRegistered S3 method overwritten by 'quantmod':\n  method            from\n  as.zoo.data.frame zoo \n\nlibrary(dplyr)\n\n\nAttaching package: 'dplyr'\n\n\nThe following objects are masked from 'package:stats':\n\n    filter, lag\n\n\nThe following objects are masked from 'package:base':\n\n    intersect, setdiff, setequal, union\n\nlibrary(readr)\nlibrary(viridisLite)\nharassment_data &lt;-read_csv(\"dataset/clean_data file/merged_harassment_dataset.csv\")\n\nRows: 98010 Columns: 395\n\n\n── Column specification ────────────────────────────────────────────────────────\nDelimiter: \",\"\nchr   (5): LEA_STATE, LEA_STATE_NAME, LEA_NAME, NAME, JJ\ndbl (390): LEAID, SCHID, COMBOKEY, HBALLEGATIONS_SEX, HBALLEGATIONS_ORI, HBA...\n\nℹ Use `spec()` to retrieve the full column specification for this data.\nℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.\n\n# Define the enrollment columns\nenrollment_cols &lt;- c(\n  \"SCH_ENR_HI_M\", \"SCH_ENR_HI_F\", \n  \"SCH_ENR_AM_M\", \"SCH_ENR_AM_F\", \n  \"SCH_ENR_AS_M\", \"SCH_ENR_AS_F\",\n  \"SCH_ENR_HP_M\", \"SCH_ENR_HP_F\",\n  \"SCH_ENR_BL_M\", \"SCH_ENR_BL_F\",\n  \"SCH_ENR_WH_M\", \"SCH_ENR_WH_F\",\n  \"SCH_ENR_TR_M\", \"SCH_ENR_TR_F\"\n)\n\n# Calculate total enrollment per school\nharassment_data &lt;- harassment_data %&gt;%\n  mutate(TOTAL_ENROLLMENT = rowSums(across(all_of(enrollment_cols)), na.rm = TRUE))\n\n# Aggregate by state and calculate rate per 100 students\nbullying_data &lt;- harassment_data %&gt;%\n  group_by(LEA_STATE) %&gt;%\n  summarise(\n    total_allegations = sum(HBALLEGATIONS_RAC + HBALLEGATIONS_REL + HBALLEGATIONS_ORI, na.rm = TRUE),\n    total_students = sum(TOTAL_ENROLLMENT, na.rm = TRUE),\n    .groups = \"drop\"\n  ) %&gt;%\n  mutate(rate_per_100 = round(total_allegations / total_students * 100, 2))\n# Create a key that matches highmaps \"hc-key\" format\nbullying_data &lt;- bullying_data %&gt;%\n  mutate(`hc-key` = paste0(\"us-\", tolower(LEA_STATE)))\nlibrary(highcharter)\nlibrary(viridisLite)\n\n# Load map data FIRST\nusgeojson &lt;- get_data_from_map(download_map_data(\"countries/us/us-all\"))\n\n# Plot using hcmap instead of hchart\nhcmap(\n  \"countries/us/us-all\",     # Built-in Highmaps map\n  data = bullying_data,\n  name = \"Allegations per 100 students\",\n  value = \"rate_per_100\",\n  joinBy = c(\"hc-key\", \"hc-key\"),  # key match for map + data\n  borderWidth = 0,\n  nullColor = \"#d3d3d3\"\n) %&gt;%\n  hc_colorAxis(\n    stops = color_stops(colors = viridisLite::inferno(10)),\n    min = 0\n  ) %&gt;%\n  hc_title(text = \"Harassment/Bullying Allegations per 100 Students by State\") %&gt;%\n  hc_tooltip(pointFormat = \"{point.name}: {point.value}\")\n\n\n\n\n\n\nlibrary(tidyverse)\n\n── Attaching core tidyverse packages ──────────────────────── tidyverse 2.0.0 ──\n✔ forcats   1.0.0     ✔ stringr   1.5.1\n✔ ggplot2   3.5.1     ✔ tibble    3.2.1\n✔ lubridate 1.9.4     ✔ tidyr     1.3.1\n✔ purrr     1.0.2     \n── Conflicts ────────────────────────────────────────── tidyverse_conflicts() ──\n✖ dplyr::filter() masks stats::filter()\n✖ dplyr::lag()    masks stats::lag()\nℹ Use the conflicted package (&lt;http://conflicted.r-lib.org/&gt;) to force all conflicts to become errors\n\n# Load your dataset\ndata &lt;- read_csv(\"dataset/clean_data file/merged_harassment_dataset.csv\")\n\nRows: 98010 Columns: 395\n── Column specification ────────────────────────────────────────────────────────\nDelimiter: \",\"\nchr   (5): LEA_STATE, LEA_STATE_NAME, LEA_NAME, NAME, JJ\ndbl (390): LEAID, SCHID, COMBOKEY, HBALLEGATIONS_SEX, HBALLEGATIONS_ORI, HBA...\n\nℹ Use `spec()` to retrieve the full column specification for this data.\nℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.\n\ndata &lt;- data %&gt;%\n  mutate(\n    total_support = SCH_FTECOUNSELORS + SCH_FTESERVICES_PSY + SCH_FTESECURITY_GUA,\n    total_enrollment = rowSums(across(starts_with(\"SCH_ENR_\")), na.rm = TRUE),\n    allegations_per_100 = (HBALLEGATIONS_RAC + HBALLEGATIONS_REL + HBALLEGATIONS_ORI) / total_enrollment * 100\n  )\n# Install if needed\ninstall.packages(\"ggpmisc\", repos = \"https://cran.rstudio.com/\")\n\n\nThe downloaded binary packages are in\n    /var/folders/dk/mznwthkx6dvb6_h2klnh1vqc0000gn/T//Rtmp7NORK1/downloaded_packages\n\nlibrary(ggpmisc)\n\nLoading required package: ggpp\nRegistered S3 methods overwritten by 'ggpp':\n  method                  from   \n  heightDetails.titleGrob ggplot2\n  widthDetails.titleGrob  ggplot2\n\nAttaching package: 'ggpp'\n\nThe following object is masked from 'package:ggplot2':\n\n    annotate\n\n# Create log-log plot with regression annotation\nggplot(data, aes(x = total_support, y = allegations_per_100)) +\n  geom_point(alpha = 0.3) +\n  scale_x_log10() +\n  scale_y_log10() +\n  geom_smooth(method = \"lm\", formula = y ~ x, color = \"forestgreen\", se = TRUE) +\n  stat_poly_eq(\n    aes(label = paste(..eq.label.., ..rr.label.., sep = \"~~~\")),\n    formula = y ~ x,\n    parse = TRUE,\n    label.x.npc = \"right\",\n    label.y.npc = \"top\",\n    size = 5,\n    color = \"black\"\n  ) +\n  labs(\n    x = \"Log(Total School Support Staff)\",\n    y = \"Log(Harassment Allegations per 100 Students)\",\n    title = \"Log-Log Relationship Between School Support and Harassment Reports\"\n  ) +\n  theme_minimal()\n\nWarning in stat_poly_eq(aes(label = paste(..eq.label.., ..rr.label.., sep =\n\"~~~\")), : Ignoring unknown parameters: `label.x.npc` and `label.y.npc`\n\n\nWarning: The dot-dot notation (`..eq.label..`) was deprecated in ggplot2 3.4.0.\nℹ Please use `after_stat(eq.label)` instead.\n\n\nWarning in scale_x_log10(): log-10 transformation introduced infinite values.\n\n\nWarning in scale_y_log10(): log-10 transformation introduced infinite values.\n\n\nWarning in scale_x_log10(): log-10 transformation introduced infinite values.\n\n\nWarning in scale_y_log10(): log-10 transformation introduced infinite values.\n\n\nWarning in scale_x_log10(): log-10 transformation introduced infinite values.\n\n\nWarning in scale_y_log10(): log-10 transformation introduced infinite values.\n\n\nWarning: Removed 85928 rows containing non-finite outside the scale range\n(`stat_smooth()`).\n\n\nWarning: Removed 85928 rows containing non-finite outside the scale range\n(`stat_poly_eq()`).\n\n\nWarning: Removed 26147 rows containing missing values or values outside the scale range\n(`geom_point()`).\n\n\n\n\n\n\n\n\n\nComment:To explore the relationship between school support staffing and reported harassment, we constructed a log-log regression model using total school support (sum of counselors, psychologists, and security guards) and reported harassment allegations per 100 enrolled students. The resulting regression line (𝑦 = −0.331 − 0.401𝑥) indicated a negative association, with an R² of 0.11, suggesting that higher levels of student support staff are weakly but significantly associated with lower harassment rates. While the model explains only a modest portion of the variance, this trend aligns with theories that greater support infrastructure may contribute to safer school climates. Nonetheless, causality cannot be inferred due to the observational nature of the data."
  },
  {
    "objectID": "big_picture.html",
    "href": "big_picture.html",
    "title": "Big Picture",
    "section": "",
    "text": "This comes from the file big_picture.qmd.\nThink of this page as your 538/Upshot style article. This means that you should try to tell a story through the data and your analysis. Read articles from those sites and similar sites to get a feeling for what they are like. Try to write in the style of a news or popular article. Importantly, this page should be geared towards the general public. You shouldn’t assume the reader understands how to interpret a linear regression or a complicated plot. Focus on interpretation and visualizations."
  },
  {
    "objectID": "big_picture.html#rubric-on-this-page",
    "href": "big_picture.html#rubric-on-this-page",
    "title": "Big Picture",
    "section": "Rubric: On this page",
    "text": "Rubric: On this page\n\nTitle\n\nYour big picture page should have a creative/click-bait-y title/headline that provides a hint about your thesis.\n\nClarity of Explanation\n\nYou should have a clear thesis/goal for this page. What are you trying to show? Make sure that you explain your analysis in detail but don’t go into top much mathematics or statistics. The audience for this page is the general public (to the extent possible). Your thesis should be a statement, not a question.\nEach figure should be very polished and also not too complicated. There should be a clear interpretation of the figure so the figure has a clear purpose. Even something like a histogram can be difficult to interpret for non-experts.\n\nCreativity\n\nDo your best to make things interesting. Think of a how a news article or a magazine story might draw you in. Think of how each part of your analysis supports the previous part or provides a different perspective.\n\nInteractive component\n\nQuality and ease of use of the interactive components. Is it clear what can be explored using your interactive components? Does it enhance and reinforce your conclusions?\n\nThis page should be self-contained.\n\nNote: This page should have no code visible, i.e. use #| echo: FALSE."
  },
  {
    "objectID": "big_picture.html#rubric-other-components",
    "href": "big_picture.html#rubric-other-components",
    "title": "Big Picture",
    "section": "Rubric: Other components",
    "text": "Rubric: Other components\n\nVideo Recording\nMake a video recording (probably using Zoom) demonstrating your interactive components. You should provide a quick explanation of your data and demonstrate some of the conclusions from your EDA. This video should be no longer than 4 minutes. Include a link to your video (and password if needed) in your README.md file on your Github repository. You are not required to provide a link on the website. This can be presented by any subset of the team members.\n\n\nRest of the Site\nFinally, here are important things to keep in mind for the rest of the site.\nThe main title of your page is informative. Each post has an author/description/informative title. All lab required posts are present. Each page (including the home page) has a nice featured image associated with it. Your about page is up to date and clean. You have removed the generic posts from the initial site template."
  }
]